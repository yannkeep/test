<!DOCTYPE html>
<html lang="fr" prefix="og: https://ogp.me/ns#" itemscope itemtype="https://schema.org/WebApplication">
<head>
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         PLAIDOYER CITOYEN WORKSTATION v3.0
         Poste de Travail pour la Participation Citoyenne et l'√âducation Populaire
         Optimis√© SEO / Web S√©mantique / Schema.org / Open Graph
         Licence: Creative Commons BY-NC-SA 4.0
         ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- SEO Meta Tags -->
    <title>Plaidoyer Citoyen Workstation | 15 Outils pour le Changement Social</title>
    <meta name="description" content="Poste de travail num√©rique gratuit pour construire votre strat√©gie de plaidoyer citoyen. 15 outils bas√©s sur la m√©thodologie Voir-Juger-Agir. Import/Export multiformats.">
    <meta name="keywords" content="plaidoyer citoyen, participation citoyenne, d√©mocratie participative, √©ducation populaire, voir juger agir, advocacy, changement social, Belgique, s√©curit√© sociale, coalition Arizona">
    <meta name="author" content="Collectif Plaidoyer Citoyen">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <meta name="googlebot" content="index, follow">
    <link rel="canonical" href="https://plaidoyer-citoyen.be/workstation">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://plaidoyer-citoyen.be/workstation">
    <meta property="og:title" content="Plaidoyer Citoyen Workstation | 15 Outils pour le Changement Social">
    <meta property="og:description" content="Construisez votre strat√©gie de plaidoyer avec 15 outils m√©thodologiques. Gratuit, open-source, sans inscription.">
    <meta property="og:image" content="https://plaidoyer-citoyen.be/og-image.png">
    <meta property="og:locale" content="fr_BE">
    <meta property="og:site_name" content="Plaidoyer Citoyen">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Plaidoyer Citoyen Workstation">
    <meta name="twitter:description" content="15 outils gratuits pour construire votre strat√©gie de changement social.">
    <meta name="twitter:image" content="https://plaidoyer-citoyen.be/twitter-card.png">
    
    <!-- PWA / Mobile -->
    <meta name="theme-color" content="#1a365d">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Preconnect & Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,400;0,6..72,600;0,6..72,700;1,6..72,400&family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Schema.org JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@graph": [
            {
                "@type": "WebApplication",
                "@id": "https://plaidoyer-citoyen.be/workstation#app",
                "name": "Plaidoyer Citoyen Workstation",
                "alternateName": "PCW",
                "description": "Poste de travail num√©rique pour construire et suivre des strat√©gies de plaidoyer citoyen bas√©es sur la m√©thodologie Voir-Juger-Agir.",
                "url": "https://plaidoyer-citoyen.be/workstation",
                "applicationCategory": "UtilitiesApplication",
                "operatingSystem": "Any",
                "browserRequirements": "Requires JavaScript",
                "softwareVersion": "3.0",
                "offers": {
                    "@type": "Offer",
                    "price": "0",
                    "priceCurrency": "EUR"
                },
                "featureList": [
                    "15 outils m√©thodologiques",
                    "Import/Export multiformats (JSON, Markdown, HTML, CSV)",
                    "Cartographie des acteurs",
                    "G√©n√©rateur de messages de plaidoyer",
                    "Tableau de bord analytique",
                    "Module de veille citoyenne"
                ],
                "author": {
                    "@type": "Organization",
                    "name": "Collectif Plaidoyer Citoyen",
                    "url": "https://plaidoyer-citoyen.be"
                }
            },
            {
                "@type": "HowTo",
                "@id": "https://plaidoyer-citoyen.be/workstation#howto",
                "name": "Comment mener un plaidoyer citoyen efficace",
                "description": "Guide m√©thodologique en 3 phases et 15 outils pour influencer les politiques publiques.",
                "totalTime": "P30D",
                "step": [
                    {
                        "@type": "HowToSection",
                        "name": "Phase VOIR",
                        "itemListElement": [
                            {"@type": "HowToStep", "name": "Domino du changement", "text": "Identifiez votre vision et vos valeurs"},
                            {"@type": "HowToStep", "name": "Profil d'engagement", "text": "D√©couvrez votre type de militant"},
                            {"@type": "HowToStep", "name": "Fleur de pouvoir", "text": "Analysez vos privil√®ges et identit√©s"},
                            {"@type": "HowToStep", "name": "Cartographie des acteurs", "text": "Mappez les parties prenantes"}
                        ]
                    },
                    {
                        "@type": "HowToSection",
                        "name": "Phase JUGER",
                        "itemListElement": [
                            {"@type": "HowToStep", "name": "Th√©orie du changement", "text": "D√©finissez votre vision syst√©mique"},
                            {"@type": "HowToStep", "name": "Analyse SWOT", "text": "√âvaluez forces, faiblesses, opportunit√©s, menaces"},
                            {"@type": "HowToStep", "name": "Analyse PESTEL", "text": "Comprenez l'environnement macro"},
                            {"@type": "HowToStep", "name": "Arbre √† probl√®me", "text": "Identifiez causes et cons√©quences"},
                            {"@type": "HowToStep", "name": "Les 5 pourquoi", "text": "Remontez aux causes racines"}
                        ]
                    },
                    {
                        "@type": "HowToSection",
                        "name": "Phase AGIR",
                        "itemListElement": [
                            {"@type": "HowToStep", "name": "Modes d'action", "text": "Choisissez: avec, sans ou contre le pouvoir"},
                            {"@type": "HowToStep", "name": "Objectifs SMART", "text": "D√©finissez des objectifs mesurables"},
                            {"@type": "HowToStep", "name": "Cibles et alliances", "text": "Identifiez qui convaincre"},
                            {"@type": "HowToStep", "name": "Construction du message", "text": "Formulez votre argumentaire"},
                            {"@type": "HowToStep", "name": "Check-list rencontre", "text": "Pr√©parez vos rendez-vous"},
                            {"@type": "HowToStep", "name": "Suivi et √©valuation", "text": "Mesurez votre impact"}
                        ]
                    }
                ]
            },
            {
                "@type": "Dataset",
                "@id": "https://plaidoyer-citoyen.be/workstation#dataset-arizona",
                "name": "Donn√©es sur la Coalition Arizona et la S√©curit√© Sociale Belge",
                "description": "Donn√©es structur√©es sur les r√©formes de la s√©curit√© sociale belge par le gouvernement Arizona (2025)",
                "keywords": ["Belgique", "s√©curit√© sociale", "Arizona", "r√©forme", "pensions", "ch√¥mage"],
                "temporalCoverage": "2024/2026",
                "spatialCoverage": {
                    "@type": "Place",
                    "name": "Belgique"
                }
            }
        ]
    }
    </script>

    <style>
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           DESIGN SYSTEM: EDITORIAL CIVIQUE
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        
        :root {
            --navy-900: #0f172a;
            --navy-800: #1e293b;
            --navy-700: #334155;
            --navy-600: #475569;
            --slate-500: #64748b;
            --slate-400: #94a3b8;
            --slate-300: #cbd5e1;
            --slate-200: #e2e8f0;
            --slate-100: #f1f5f9;
            --slate-50: #f8fafc;
            --white: #ffffff;
            
            --gold-500: #eab308;
            --gold-400: #facc15;
            --gold-300: #fde047;
            --amber-500: #f59e0b;
            --emerald-500: #10b981;
            --emerald-400: #34d399;
            --rose-500: #f43f5e;
            --rose-400: #fb7185;
            --sky-500: #0ea5e9;
            --violet-500: #8b5cf6;
            
            --voir-color: #3b82f6;
            --voir-bg: rgba(59, 130, 246, 0.1);
            --juger-color: #8b5cf6;
            --juger-bg: rgba(139, 92, 246, 0.1);
            --agir-color: #10b981;
            --agir-bg: rgba(16, 185, 129, 0.1);
            
            --font-display: 'Newsreader', Georgia, serif;
            --font-body: 'DM Sans', system-ui, sans-serif;
            --font-mono: 'IBM Plex Mono', 'Consolas', monospace;
            
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
            
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
            
            --header-height: 64px;
            --sidebar-width: 280px;
            --max-content: 1400px;
        }

        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        html { scroll-behavior: smooth; font-size: 16px; -webkit-font-smoothing: antialiased; }

        body {
            font-family: var(--font-body);
            background: var(--slate-100);
            color: var(--navy-800);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-display);
            font-weight: 600;
            line-height: 1.3;
            color: var(--navy-900);
        }

        h1 { font-size: clamp(1.75rem, 5vw, 2.5rem); letter-spacing: -0.02em; }
        h2 { font-size: clamp(1.25rem, 4vw, 1.75rem); letter-spacing: -0.01em; }
        h3 { font-size: clamp(1rem, 3vw, 1.25rem); }

        a { color: var(--sky-500); text-decoration: none; transition: color var(--transition-fast); }
        a:hover { color: var(--violet-500); }

        ::selection { background: var(--gold-300); color: var(--navy-900); }

        /* Layout */
        .app-container {
            display: grid;
            grid-template-columns: var(--sidebar-width) 1fr;
            grid-template-rows: var(--header-height) 1fr;
            grid-template-areas: "header header" "sidebar main";
            min-height: 100vh;
        }

        @media (max-width: 1024px) {
            .app-container {
                grid-template-columns: 1fr;
                grid-template-areas: "header" "main";
            }
        }

        /* Header */
        .header {
            grid-area: header;
            background: var(--navy-900);
            border-bottom: 3px solid var(--gold-500);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 var(--space-6);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo { display: flex; align-items: center; gap: var(--space-3); }

        .logo-mark {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--gold-500), var(--amber-500));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            box-shadow: 0 0 20px rgba(234, 179, 8, 0.3);
        }

        .logo-text { display: flex; flex-direction: column; }
        .logo-title { font-family: var(--font-display); font-weight: 700; font-size: 1.125rem; color: var(--white); }
        .logo-subtitle { font-size: 0.65rem; color: var(--slate-400); text-transform: uppercase; letter-spacing: 0.1em; }

        .header-actions { display: flex; gap: var(--space-2); flex-wrap: wrap; }

        .btn {
            font-family: var(--font-body);
            font-weight: 600;
            font-size: 0.8rem;
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-md);
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            transition: all var(--transition-fast);
            white-space: nowrap;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--gold-500), var(--amber-500));
            color: var(--navy-900);
            box-shadow: 0 2px 8px rgba(234, 179, 8, 0.3);
        }
        .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(234, 179, 8, 0.4); }

        .btn-secondary { background: var(--navy-700); color: var(--white); border: 1px solid var(--navy-600); }
        .btn-secondary:hover { background: var(--navy-600); }

        .btn-ghost { background: transparent; color: var(--slate-300); border: 1px solid transparent; }
        .btn-ghost:hover { background: var(--navy-800); border-color: var(--navy-600); }

        .btn-danger { background: var(--rose-500); color: var(--white); }
        .btn-danger:hover { background: var(--rose-400); }

        .btn-icon { width: 36px; height: 36px; padding: 0; justify-content: center; }

        /* Sidebar */
        .sidebar {
            grid-area: sidebar;
            background: var(--white);
            border-right: 1px solid var(--slate-200);
            padding: var(--space-6) 0;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        @media (max-width: 1024px) {
            .sidebar {
                position: fixed;
                left: -100%;
                top: var(--header-height);
                bottom: 0;
                width: var(--sidebar-width);
                z-index: 999;
                transition: left var(--transition-base);
                box-shadow: var(--shadow-lg);
            }
            .sidebar.open { left: 0; }
        }

        .nav-section { margin-bottom: var(--space-6); }
        .nav-section-title {
            font-size: 0.65rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--slate-500);
            padding: 0 var(--space-6) var(--space-2);
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-6);
            color: var(--navy-700);
            font-weight: 500;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all var(--transition-fast);
            border-left: 3px solid transparent;
        }
        .nav-item:hover { background: var(--slate-100); color: var(--navy-900); }
        .nav-item.active { background: var(--slate-100); border-left-color: var(--gold-500); color: var(--navy-900); }
        .nav-item[data-phase="voir"].active { border-left-color: var(--voir-color); }
        .nav-item[data-phase="juger"].active { border-left-color: var(--juger-color); }
        .nav-item[data-phase="agir"].active { border-left-color: var(--agir-color); }

        .nav-icon { width: 20px; text-align: center; font-size: 1rem; }
        .nav-badge { margin-left: auto; font-size: 0.65rem; font-weight: 600; padding: 2px 6px; border-radius: 10px; background: var(--slate-200); color: var(--slate-600); }
        .nav-badge.demo { background: var(--gold-500); color: var(--navy-900); }

        .sidebar-progress {
            margin-top: auto;
            padding: var(--space-4) var(--space-6);
            background: var(--slate-100);
            border-top: 1px solid var(--slate-200);
        }
        .progress-label { display: flex; justify-content: space-between; font-size: 0.75rem; font-weight: 600; margin-bottom: var(--space-2); }
        .progress-bar { height: 6px; background: var(--slate-300); border-radius: 3px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--voir-color), var(--juger-color), var(--agir-color)); border-radius: 3px; transition: width var(--transition-base); }

        /* Main */
        .main {
            grid-area: main;
            padding: var(--space-6);
            overflow-y: auto;
            background: var(--slate-100);
        }

        .content-wrapper { max-width: var(--max-content); margin: 0 auto; }

        .section { display: none; animation: fadeIn 0.3s ease; }
        .section.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .section-header { margin-bottom: var(--space-6); }
        .section-eyebrow { font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gold-500); margin-bottom: var(--space-2); }
        .section-title { margin-bottom: var(--space-2); }
        .section-description { font-size: 1rem; color: var(--slate-600); max-width: 65ch; }

        /* Cards */
        .card {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            margin-bottom: var(--space-5);
            border: 1px solid var(--slate-200);
            box-shadow: var(--shadow-sm);
        }
        .card:hover { box-shadow: var(--shadow-md); }
        .card-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: var(--space-4); flex-wrap: wrap; gap: var(--space-2); }
        .card-title { font-size: 1rem; display: flex; align-items: center; gap: var(--space-2); flex-wrap: wrap; }
        .card-badge { font-size: 0.6rem; font-weight: 700; text-transform: uppercase; padding: 2px 8px; border-radius: 4px; }
        .badge-voir { background: var(--voir-bg); color: var(--voir-color); }
        .badge-juger { background: var(--juger-bg); color: var(--juger-color); }
        .badge-agir { background: var(--agir-bg); color: var(--agir-color); }
        .badge-demo { background: var(--gold-300); color: var(--navy-900); }

        /* Forms */
        .form-group { margin-bottom: var(--space-4); }
        .form-label { display: block; font-weight: 600; font-size: 0.8rem; margin-bottom: var(--space-2); color: var(--navy-800); }
        .form-hint { font-size: 0.75rem; color: var(--slate-500); margin-top: var(--space-1); }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            font-family: var(--font-body);
            font-size: 0.875rem;
            padding: var(--space-3);
            border: 1.5px solid var(--slate-300);
            border-radius: var(--radius-md);
            background: var(--white);
            color: var(--navy-800);
            transition: all var(--transition-fast);
        }
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--gold-500);
            box-shadow: 0 0 0 3px rgba(234, 179, 8, 0.15);
        }
        .form-textarea { min-height: 100px; resize: vertical; line-height: 1.6; }

        /* Grids */
        .grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-5); }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-5); }
        .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-4); }

        @media (max-width: 768px) {
            .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
        }

        /* Stats */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: var(--space-4); margin-bottom: var(--space-6); }
        .stat-card { background: var(--white); border-radius: var(--radius-lg); padding: var(--space-4); border: 1px solid var(--slate-200); text-align: center; }
        .stat-value { font-family: var(--font-display); font-size: 2rem; font-weight: 700; color: var(--navy-900); line-height: 1; }
        .stat-label { font-size: 0.7rem; color: var(--slate-500); text-transform: uppercase; letter-spacing: 0.05em; margin-top: var(--space-1); }

        /* Phase Cards */
        .phase-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-5); margin-bottom: var(--space-6); }

        .phase-card {
            background: var(--white);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }
        .phase-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; }
        .phase-card.voir::before { background: var(--voir-color); }
        .phase-card.juger::before { background: var(--juger-color); }
        .phase-card.agir::before { background: var(--agir-color); }
        .phase-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); }
        .phase-card.voir:hover { border-color: var(--voir-color); }
        .phase-card.juger:hover { border-color: var(--juger-color); }
        .phase-card.agir:hover { border-color: var(--agir-color); }

        .phase-icon { font-size: 2.5rem; margin-bottom: var(--space-3); }
        .phase-name { font-family: var(--font-display); font-size: 1.25rem; font-weight: 700; margin-bottom: var(--space-2); }
        .phase-card.voir .phase-name { color: var(--voir-color); }
        .phase-card.juger .phase-name { color: var(--juger-color); }
        .phase-card.agir .phase-name { color: var(--agir-color); }
        .phase-desc { color: var(--slate-600); font-size: 0.875rem; margin-bottom: var(--space-3); }
        .phase-tools { font-size: 0.75rem; color: var(--slate-500); font-weight: 600; }

        /* Power Mapping */
        .power-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 2px;
            background: var(--slate-300);
            border-radius: var(--radius-lg);
            overflow: hidden;
            aspect-ratio: 1;
            max-width: 500px;
            margin: var(--space-4) auto;
        }
        .power-quadrant { background: var(--white); padding: var(--space-3); min-height: 150px; position: relative; }
        .power-quadrant-label { position: absolute; top: var(--space-2); left: var(--space-2); font-size: 0.6rem; font-weight: 700; text-transform: uppercase; color: var(--slate-500); }
        .power-quadrant.high-power.high-interest { background: rgba(16, 185, 129, 0.1); }
        .power-quadrant.high-power.low-interest { background: rgba(245, 158, 11, 0.1); }
        .power-quadrant.low-power.high-interest { background: rgba(59, 130, 246, 0.1); }
        .power-quadrant.low-power.low-interest { background: rgba(148, 163, 184, 0.1); }

        .actor-chip {
            display: inline-flex;
            align-items: center;
            gap: var(--space-1);
            padding: 2px 6px;
            background: var(--white);
            border: 1px solid var(--slate-300);
            border-radius: var(--radius-sm);
            font-size: 0.65rem;
            margin: 2px;
            cursor: pointer;
            box-shadow: var(--shadow-sm);
        }
        .actor-chip.ally { border-color: var(--emerald-500); color: var(--emerald-500); }
        .actor-chip.target { border-color: var(--amber-500); color: var(--amber-500); }
        .actor-chip.opponent { border-color: var(--rose-500); color: var(--rose-500); }
        .actor-chip.neutral { border-color: var(--slate-400); color: var(--slate-500); }

        /* Modals */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(4px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: var(--space-4);
        }
        .modal-overlay.active { display: flex; }

        .modal {
            background: var(--white);
            border-radius: var(--radius-xl);
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: modalSlideIn 0.3s ease;
        }
        @keyframes modalSlideIn { from { opacity: 0; transform: scale(0.95) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }

        .modal-header { padding: var(--space-5); border-bottom: 1px solid var(--slate-200); display: flex; align-items: center; justify-content: space-between; }
        .modal-title { font-size: 1.125rem; }
        .modal-close { width: 32px; height: 32px; border-radius: var(--radius-md); border: none; background: var(--slate-100); cursor: pointer; font-size: 1.25rem; color: var(--slate-500); }
        .modal-close:hover { background: var(--slate-200); color: var(--navy-800); }
        .modal-body { padding: var(--space-5); }
        .modal-footer { padding: var(--space-4) var(--space-5); border-top: 1px solid var(--slate-200); display: flex; gap: var(--space-3); justify-content: flex-end; }

        /* Format Options */
        .format-options { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-3); }
        .format-option { border: 2px solid var(--slate-200); border-radius: var(--radius-md); padding: var(--space-4); cursor: pointer; transition: all var(--transition-fast); text-align: center; }
        .format-option:hover { border-color: var(--gold-500); background: rgba(234, 179, 8, 0.05); }
        .format-option.selected { border-color: var(--gold-500); background: rgba(234, 179, 8, 0.1); }
        .format-icon { font-size: 1.75rem; margin-bottom: var(--space-2); }
        .format-name { font-weight: 600; font-size: 0.875rem; }
        .format-ext { font-size: 0.7rem; color: var(--slate-500); font-family: var(--font-mono); }

        /* Drop Zone */
        .drop-zone { border: 2px dashed var(--slate-300); border-radius: var(--radius-lg); padding: var(--space-8); text-align: center; cursor: pointer; transition: all var(--transition-fast); }
        .drop-zone:hover, .drop-zone.dragover { border-color: var(--gold-500); background: rgba(234, 179, 8, 0.05); }
        .drop-zone-icon { font-size: 2.5rem; margin-bottom: var(--space-3); }
        .drop-zone-text { color: var(--slate-600); }
        .drop-zone-hint { font-size: 0.75rem; color: var(--slate-500); margin-top: var(--space-2); }

        /* Toast */
        .toast-container { position: fixed; bottom: var(--space-6); right: var(--space-6); z-index: 3000; display: flex; flex-direction: column; gap: var(--space-3); }
        .toast { background: var(--navy-900); color: var(--white); padding: var(--space-3) var(--space-4); border-radius: var(--radius-md); box-shadow: var(--shadow-lg); display: flex; align-items: center; gap: var(--space-3); animation: toastSlideIn 0.3s ease; min-width: 250px; font-size: 0.875rem; }
        @keyframes toastSlideIn { from { opacity: 0; transform: translateX(100px); } to { opacity: 1; transform: translateX(0); } }
        .toast.success { border-left: 4px solid var(--emerald-500); }
        .toast.error { border-left: 4px solid var(--rose-500); }
        .toast.info { border-left: 4px solid var(--sky-500); }

        /* Data Table */
        .data-table { width: 100%; border-collapse: collapse; font-size: 0.8rem; }
        .data-table th, .data-table td { padding: var(--space-2) var(--space-3); text-align: left; border-bottom: 1px solid var(--slate-200); }
        .data-table th { background: var(--slate-100); font-weight: 600; position: sticky; top: 0; }
        .data-table tr:hover td { background: var(--slate-50); }

        /* Veille */
        .veille-item { display: flex; gap: var(--space-3); padding: var(--space-3); border-radius: var(--radius-md); background: var(--slate-50); margin-bottom: var(--space-3); border-left: 3px solid var(--slate-300); font-size: 0.875rem; }
        .veille-item.politique { border-left-color: var(--rose-500); }
        .veille-item.social { border-left-color: var(--emerald-500); }
        .veille-item.economique { border-left-color: var(--amber-500); }
        .veille-item.environnement { border-left-color: var(--sky-500); }
        .veille-meta { flex-shrink: 0; text-align: center; width: 50px; }
        .veille-date { font-size: 0.65rem; color: var(--slate-500); }
        .veille-content { flex: 1; }
        .veille-title { font-weight: 600; margin-bottom: var(--space-1); font-size: 0.8rem; }
        .veille-source { font-size: 0.7rem; color: var(--slate-500); }

        /* Journal */
        .journal-entry { position: relative; padding-left: var(--space-5); margin-bottom: var(--space-4); font-size: 0.875rem; }
        .journal-entry::before { content: ''; position: absolute; left: 0; top: 6px; width: 8px; height: 8px; background: var(--gold-500); border-radius: 50%; }
        .journal-entry::after { content: ''; position: absolute; left: 3px; top: 18px; bottom: -16px; width: 2px; background: var(--slate-200); }
        .journal-entry:last-child::after { display: none; }
        .journal-date { font-size: 0.7rem; color: var(--slate-500); margin-bottom: var(--space-1); }
        .journal-text { font-size: 0.85rem; }

        /* Dataset */
        .dataset-card { background: linear-gradient(135deg, var(--navy-800), var(--navy-900)); color: var(--white); border-radius: var(--radius-xl); padding: var(--space-5); margin-bottom: var(--space-5); }
        .dataset-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: var(--space-4); flex-wrap: wrap; gap: var(--space-3); }
        .dataset-title { color: var(--gold-400); font-size: 1.125rem; }
        .dataset-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: var(--space-3); }
        .dataset-stat { background: rgba(255, 255, 255, 0.1); border-radius: var(--radius-md); padding: var(--space-3); text-align: center; }
        .dataset-stat-value { font-family: var(--font-display); font-size: 1.5rem; font-weight: 700; color: var(--gold-400); }
        .dataset-stat-label { font-size: 0.65rem; color: var(--slate-300); margin-top: var(--space-1); }

        /* Checklist */
        .checklist { list-style: none; }
        .checklist-item { display: flex; align-items: flex-start; gap: var(--space-3); padding: var(--space-2) 0; border-bottom: 1px solid var(--slate-100); cursor: pointer; font-size: 0.85rem; }
        .checklist-checkbox { width: 18px; height: 18px; border: 2px solid var(--slate-300); border-radius: var(--radius-sm); flex-shrink: 0; display: flex; align-items: center; justify-content: center; transition: all var(--transition-fast); font-size: 0.7rem; }
        .checklist-item.completed .checklist-checkbox { background: var(--emerald-500); border-color: var(--emerald-500); color: var(--white); }
        .checklist-item.completed .checklist-text { text-decoration: line-through; color: var(--slate-500); }

        /* Demo Banner */
        .demo-banner { background: linear-gradient(90deg, var(--gold-500), var(--amber-500)); color: var(--navy-900); padding: var(--space-3) var(--space-5); border-radius: var(--radius-lg); margin-bottom: var(--space-5); display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: var(--space-3); }
        .demo-banner-text { font-weight: 600; font-size: 0.875rem; }
        .demo-banner-actions { display: flex; gap: var(--space-2); }

        /* Mobile */
        .menu-toggle { display: none; }
        @media (max-width: 1024px) { .menu-toggle { display: flex; } }

        /* Kbd */
        .kbd { display: inline-block; padding: 2px 5px; font-family: var(--font-mono); font-size: 0.7rem; background: var(--slate-100); border: 1px solid var(--slate-300); border-radius: var(--radius-sm); }

        /* Print */
        @media print {
            .header, .sidebar, .modal-overlay, .toast-container, .demo-banner { display: none !important; }
            .app-container { display: block; }
            .main { padding: 0; }
            .card { break-inside: avoid; box-shadow: none; border: 1px solid #ccc; }
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: var(--slate-100); }
        ::-webkit-scrollbar-thumb { background: var(--slate-300); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--slate-400); }
    </style>
</head>
<body>
    <div class="app-container" role="application" aria-label="Plaidoyer Citoyen Workstation">
        
        <!-- HEADER -->
        <header class="header" role="banner">
            <div class="logo">
                <button class="btn btn-ghost btn-icon menu-toggle" onclick="toggleSidebar()" aria-label="Menu">‚ò∞</button>
                <div class="logo-mark" aria-hidden="true">‚öñ</div>
                <div class="logo-text">
                    <span class="logo-title">Plaidoyer Citoyen</span>
                    <span class="logo-subtitle">Workstation v3.0</span>
                </div>
            </div>
            
            <div class="header-actions">
                <button class="btn btn-ghost btn-icon" onclick="openModal('shortcuts-modal')" title="Raccourcis">‚å®Ô∏è</button>
                <button class="btn btn-secondary" onclick="openModal('import-modal')">üì• Import</button>
                <button class="btn btn-secondary" onclick="openModal('export-modal')">üì§ Export</button>
                <button class="btn btn-primary" onclick="saveProject()">üíæ Sauver</button>
            </div>
        </header>

        <!-- SIDEBAR -->
        <nav class="sidebar" role="navigation" aria-label="Navigation principale" id="sidebar">
            <div class="nav-section">
                <div class="nav-section-title">Accueil</div>
                <div class="nav-item active" data-section="home" onclick="switchSection('home')">
                    <span class="nav-icon">üè†</span>
                    <span>Tableau de bord</span>
                    <span class="nav-badge demo" id="demo-badge" style="display:none;">D√âMO</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Phase 1 ‚Äî Voir</div>
                <div class="nav-item" data-section="voir-1" data-phase="voir" onclick="switchSection('voir-1')">
                    <span class="nav-icon">üéØ</span><span>Domino du changement</span>
                </div>
                <div class="nav-item" data-section="voir-2" data-phase="voir" onclick="switchSection('voir-2')">
                    <span class="nav-icon">üë§</span><span>Profil d'engagement</span>
                </div>
                <div class="nav-item" data-section="voir-3" data-phase="voir" onclick="switchSection('voir-3')">
                    <span class="nav-icon">üå∏</span><span>Fleur de pouvoir</span>
                </div>
                <div class="nav-item" data-section="voir-4" data-phase="voir" onclick="switchSection('voir-4')">
                    <span class="nav-icon">üó∫Ô∏è</span><span>Cartographie acteurs</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Phase 2 ‚Äî Juger</div>
                <div class="nav-item" data-section="juger-5" data-phase="juger" onclick="switchSection('juger-5')">
                    <span class="nav-icon">üîÑ</span><span>Th√©orie du changement</span>
                </div>
                <div class="nav-item" data-section="juger-6" data-phase="juger" onclick="switchSection('juger-6')">
                    <span class="nav-icon">üìä</span><span>Analyse SWOT</span>
                </div>
                <div class="nav-item" data-section="juger-7" data-phase="juger" onclick="switchSection('juger-7')">
                    <span class="nav-icon">üåê</span><span>Analyse PESTEL</span>
                </div>
                <div class="nav-item" data-section="juger-8" data-phase="juger" onclick="switchSection('juger-8')">
                    <span class="nav-icon">üå≥</span><span>Arbre √† probl√®me</span>
                </div>
                <div class="nav-item" data-section="juger-9" data-phase="juger" onclick="switchSection('juger-9')">
                    <span class="nav-icon">‚ùì</span><span>Les 5 Pourquoi</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Phase 3 ‚Äî Agir</div>
                <div class="nav-item" data-section="agir-10" data-phase="agir" onclick="switchSection('agir-10')">
                    <span class="nav-icon">‚ö°</span><span>Modes d'action</span>
                </div>
                <div class="nav-item" data-section="agir-11" data-phase="agir" onclick="switchSection('agir-11')">
                    <span class="nav-icon">üéØ</span><span>Objectifs SMART</span>
                </div>
                <div class="nav-item" data-section="agir-12" data-phase="agir" onclick="switchSection('agir-12')">
                    <span class="nav-icon">ü§ù</span><span>Cibles & Alliances</span>
                </div>
                <div class="nav-item" data-section="agir-13" data-phase="agir" onclick="switchSection('agir-13')">
                    <span class="nav-icon">üí¨</span><span>Construction message</span>
                </div>
                <div class="nav-item" data-section="agir-14" data-phase="agir" onclick="switchSection('agir-14')">
                    <span class="nav-icon">‚úÖ</span><span>Check-list rencontre</span>
                </div>
                <div class="nav-item" data-section="agir-15" data-phase="agir" onclick="switchSection('agir-15')">
                    <span class="nav-icon">üìà</span><span>Suivi & √âvaluation</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Modules</div>
                <div class="nav-item" data-section="veille" onclick="switchSection('veille')">
                    <span class="nav-icon">üì°</span><span>Veille citoyenne</span>
                </div>
                <div class="nav-item" data-section="datasets" onclick="switchSection('datasets')">
                    <span class="nav-icon">üìä</span><span>Datasets</span>
                </div>
                <div class="nav-item" data-section="ressources" onclick="switchSection('ressources')">
                    <span class="nav-icon">üìö</span><span>Ressources</span>
                </div>
            </div>

            <div class="sidebar-progress">
                <div class="progress-label">
                    <span>Progression</span>
                    <span id="global-progress-value">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="global-progress-fill" style="width: 0%;"></div>
                </div>
            </div>
        </nav>

        <!-- MAIN CONTENT -->
        <main class="main" id="main-content" role="main">
            <div class="content-wrapper">
                
                <!-- DEMO BANNER -->
                <div class="demo-banner" id="demo-banner" style="display: none;">
                    <span class="demo-banner-text">üé≠ Mode D√âMO actif ‚Äî Donn√©es fictives du projet "STOP Arizona"</span>
                    <div class="demo-banner-actions">
                        <button class="btn btn-secondary" onclick="resetProject()">üóëÔ∏è R√©initialiser</button>
                    </div>
                </div>

                <!-- HOME -->
                <section id="home" class="section active" aria-labelledby="home-title">
                    <div class="section-header">
                        <div class="section-eyebrow">Bienvenue</div>
                        <h1 class="section-title" id="home-title">Plaidoyer Citoyen Workstation</h1>
                        <p class="section-description">
                            Construisez votre strat√©gie de changement social avec 15 outils m√©thodologiques 
                            bas√©s sur l'approche <strong>Voir-Juger-Agir</strong>.
                        </p>
                    </div>

                    <div class="stats-grid">
                        <article class="stat-card">
                            <div class="stat-value" id="stat-progress">0%</div>
                            <div class="stat-label">Progression</div>
                        </article>
                        <article class="stat-card">
                            <div class="stat-value" id="stat-actors">0</div>
                            <div class="stat-label">Acteurs</div>
                        </article>
                        <article class="stat-card">
                            <div class="stat-value" id="stat-veille">0</div>
                            <div class="stat-label">Veilles</div>
                        </article>
                        <article class="stat-card">
                            <div class="stat-value" id="stat-checks">0</div>
                            <div class="stat-label">T√¢ches</div>
                        </article>
                    </div>

                    <div class="phase-cards">
                        <article class="phase-card voir" onclick="switchSection('voir-1')">
                            <div class="phase-icon">üëÅÔ∏è</div>
                            <h2 class="phase-name">VOIR</h2>
                            <p class="phase-desc">Analyser le contexte et identifier les acteurs cl√©s.</p>
                            <div class="phase-tools">4 outils ‚Ä¢ Outils 1-4</div>
                        </article>

                        <article class="phase-card juger" onclick="switchSection('juger-5')">
                            <div class="phase-icon">‚öñÔ∏è</div>
                            <h2 class="phase-name">JUGER</h2>
                            <p class="phase-desc">R√©flexion critique et √©laboration de la strat√©gie.</p>
                            <div class="phase-tools">5 outils ‚Ä¢ Outils 5-9</div>
                        </article>

                        <article class="phase-card agir" onclick="switchSection('agir-10')">
                            <div class="phase-icon">üöÄ</div>
                            <h2 class="phase-name">AGIR</h2>
                            <p class="phase-desc">Actions concr√®tes et suivi de l'impact.</p>
                            <div class="phase-tools">6 outils ‚Ä¢ Outils 10-15</div>
                        </article>
                    </div>

                    <!-- Dataset Preview -->
                    <div class="dataset-card">
                        <div class="dataset-header">
                            <div>
                                <h3 class="dataset-title">üìä Dataset: S√©curit√© Sociale & Arizona</h3>
                                <p style="color: var(--slate-300); font-size: 0.8rem;">Donn√©es cl√©s sur les r√©formes</p>
                            </div>
                            <button class="btn btn-secondary" onclick="switchSection('datasets')">Explorer ‚Üí</button>
                        </div>
                        <div class="dataset-stats">
                            <div class="dataset-stat"><div class="dataset-stat-value">52,6%</div><div class="dataset-stat-label">Coin fiscal</div></div>
                            <div class="dataset-stat"><div class="dataset-stat-value">90K</div><div class="dataset-stat-label">Personnes menac√©es</div></div>
                            <div class="dataset-stat"><div class="dataset-stat-value">140K</div><div class="dataset-stat-label">Manifestants 14/10</div></div>
                            <div class="dataset-stat"><div class="dataset-stat-value">24</div><div class="dataset-stat-label">Mois ch√¥mage max</div></div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="card-title">üöÄ D√©marrage rapide</h3>
                        <div class="grid-4" style="margin-top: var(--space-4);">
                            <button class="btn btn-primary" onclick="loadDemoData()" style="width:100%;">üé≠ Charger la D√âMO</button>
                            <button class="btn btn-secondary" onclick="switchSection('agir-13')" style="width:100%;">üí¨ Cr√©er message</button>
                            <button class="btn btn-secondary" onclick="switchSection('voir-4')" style="width:100%;">üó∫Ô∏è Mapper acteurs</button>
                            <button class="btn btn-secondary" onclick="switchSection('veille')" style="width:100%;">üì° Ajouter veille</button>
                        </div>
                    </div>
                </section>

                <!-- VOIR-1: Domino -->
                <section id="voir-1" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase VOIR ‚Ä¢ Outil 1</div>
                        <h2 class="section-title">üéØ Domino du Changement</h2>
                        <p class="section-description">Identifiez votre vision, les obstacles et vos ressources.</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Ma vision <span class="card-badge badge-voir">VOIR</span></h3>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="domino_vision">Vision du changement</label>
                            <textarea class="form-textarea" id="domino_vision" data-field="domino_vision"
                                placeholder="D√©crivez le changement que vous voulez voir advenir..." style="min-height: 150px;"></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="domino_obstacles">Obstacles identifi√©s</label>
                            <textarea class="form-textarea" id="domino_obstacles" data-field="domino_obstacles"
                                placeholder="Quels sont les freins politiques, administratifs, culturels ?"></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="domino_ressources">Ressources disponibles</label>
                            <textarea class="form-textarea" id="domino_ressources" data-field="domino_ressources"
                                placeholder="Forces, alli√©s, comp√©tences, leviers..."></textarea>
                        </div>
                    </div>
                </section>

                <!-- VOIR-2: Profil -->
                <section id="voir-2" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase VOIR ‚Ä¢ Outil 2</div>
                        <h2 class="section-title">üë§ Profil d'Engagement</h2>
                        <p class="section-description">Comprenez vos motivations, comp√©tences et limites.</p>
                    </div>

                    <div class="card">
                        <div class="form-group">
                            <label class="form-label" for="profil_motivations">Motivations</label>
                            <textarea class="form-textarea" id="profil_motivations" data-field="profil_motivations"
                                placeholder="Pourquoi vous engagez-vous ? V√©cu, convictions, urgence..."></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="profil_competences">Comp√©tences</label>
                            <textarea class="form-textarea" id="profil_competences" data-field="profil_competences"
                                placeholder="Analyse, communication, juridique, mobilisation..."></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="profil_temps">Disponibilit√©</label>
                            <textarea class="form-textarea" id="profil_temps" data-field="profil_temps"
                                placeholder="Temps disponible, pics d'activit√©, horizon..."></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="profil_limites">Limites et contraintes</label>
                            <textarea class="form-textarea" id="profil_limites" data-field="profil_limites"
                                placeholder="Contraintes financi√®res, structurelles, risques..."></textarea>
                        </div>
                    </div>
                </section>

                <!-- VOIR-3: Fleur -->
                <section id="voir-3" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase VOIR ‚Ä¢ Outil 3</div>
                        <h2 class="section-title">üå∏ Fleur de Pouvoir</h2>
                        <p class="section-description">Analysez les identit√©s, privil√®ges et oppressions.</p>
                    </div>

                    <div class="card">
                        <div class="form-group">
                            <label class="form-label" for="fleur_identites">Profils des personnes concern√©es</label>
                            <textarea class="form-textarea" id="fleur_identites" data-field="fleur_identites"
                                placeholder="Qui sont les personnes touch√©es ?"></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="fleur_privileges">Privil√®ges relatifs du mouvement</label>
                            <textarea class="form-textarea" id="fleur_privileges" data-field="fleur_privileges"
                                placeholder="Acc√®s √† l'information, capital social, l√©gitimit√©..."></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="fleur_oppressions">Discriminations et violences subies</label>
                            <textarea class="form-textarea" id="fleur_oppressions" data-field="fleur_oppressions"
                                placeholder="Violences symboliques, administratives, √©conomiques..."></textarea>
                        </div>
                    </div>
                </section>

                <!-- VOIR-4: Cartographie -->
                <section id="voir-4" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase VOIR ‚Ä¢ Outil 4</div>
                        <h2 class="section-title">üó∫Ô∏è Cartographie des Acteurs</h2>
                        <p class="section-description">Mappez les parties prenantes selon pouvoir et int√©r√™t.</p>
                    </div>

                    <div class="card">
                        <h3 class="card-title">Ajouter un acteur</h3>
                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label" for="actor-name">Nom</label>
                                <input type="text" class="form-input" id="actor-name" placeholder="Ex: Ministre X">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="actor-role">R√¥le/Fonction</label>
                                <input type="text" class="form-input" id="actor-role" placeholder="Ex: D√©cideur cl√©">
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label" for="actor-type">Position</label>
                                <select class="form-select" id="actor-type">
                                    <option value="ally">üü¢ Alli√©</option>
                                    <option value="target">üü° Cible</option>
                                    <option value="opponent">üî¥ Opposant</option>
                                    <option value="neutral">‚ö™ Neutre</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="actor-power">Pouvoir (1-5)</label>
                                <select class="form-select" id="actor-power">
                                    <option value="1">1 - Tr√®s faible</option>
                                    <option value="2">2 - Faible</option>
                                    <option value="3" selected>3 - Moyen</option>
                                    <option value="4">4 - √âlev√©</option>
                                    <option value="5">5 - Tr√®s √©lev√©</option>
                                </select>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="addActor()">‚ûï Ajouter l'acteur</button>
                    </div>

                    <div class="card">
                        <h3 class="card-title">Matrice Pouvoir / Int√©r√™t</h3>
                        <div class="power-grid">
                            <div class="power-quadrant high-power high-interest" id="quadrant-manage">
                                <span class="power-quadrant-label">G√©rer de pr√®s</span>
                                <div id="actors-manage"></div>
                            </div>
                            <div class="power-quadrant high-power low-interest" id="quadrant-satisfy">
                                <span class="power-quadrant-label">Garder satisfait</span>
                                <div id="actors-satisfy"></div>
                            </div>
                            <div class="power-quadrant low-power high-interest" id="quadrant-inform">
                                <span class="power-quadrant-label">Garder inform√©</span>
                                <div id="actors-inform"></div>
                            </div>
                            <div class="power-quadrant low-power low-interest" id="quadrant-monitor">
                                <span class="power-quadrant-label">Surveiller</span>
                                <div id="actors-monitor"></div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="card-title">Liste des acteurs (<span id="actors-count">0</span>)</h3>
                        <div id="actors-list" style="max-height: 300px; overflow-y: auto;"></div>
                    </div>
                </section>

                <!-- JUGER-5 √† JUGER-9 -->
                <section id="juger-5" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase JUGER ‚Ä¢ Outil 5</div>
                        <h2 class="section-title">üîÑ Th√©orie du Changement</h2>
                    </div>
                    <div class="card">
                        <div class="form-group">
                            <label class="form-label" for="tdc_vision">Vision syst√©mique</label>
                            <textarea class="form-textarea" id="tdc_vision" data-field="tdc_vision"
                                placeholder="Comment le changement va-t-il advenir ?"></textarea>
                        </div>
                    </div>
                </section>

                <section id="juger-6" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase JUGER ‚Ä¢ Outil 6</div>
                        <h2 class="section-title">üìä Analyse SWOT</h2>
                    </div>
                    <div class="grid-2">
                        <div class="card" style="border-left: 4px solid var(--emerald-500);">
                            <h4>üí™ Forces</h4>
                            <textarea class="form-textarea" data-field="swot_forces" placeholder="Vos atouts..."></textarea>
                        </div>
                        <div class="card" style="border-left: 4px solid var(--rose-500);">
                            <h4>‚ö†Ô∏è Faiblesses</h4>
                            <textarea class="form-textarea" data-field="swot_faiblesses" placeholder="Vos limites..."></textarea>
                        </div>
                        <div class="card" style="border-left: 4px solid var(--sky-500);">
                            <h4>üåü Opportunit√©s</h4>
                            <textarea class="form-textarea" data-field="swot_opportunites" placeholder="Contexte favorable..."></textarea>
                        </div>
                        <div class="card" style="border-left: 4px solid var(--amber-500);">
                            <h4>üå©Ô∏è Menaces</h4>
                            <textarea class="form-textarea" data-field="swot_menaces" placeholder="Risques, obstacles..."></textarea>
                        </div>
                    </div>
                </section>

                <section id="juger-7" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase JUGER ‚Ä¢ Outil 7</div>
                        <h2 class="section-title">üåê Analyse PESTEL</h2>
                    </div>
                    <div class="grid-2">
                        <div class="card"><h4>üèõÔ∏è Politique</h4><textarea class="form-textarea" data-field="pestel_p" placeholder="..."></textarea></div>
                        <div class="card"><h4>üí∞ √âconomique</h4><textarea class="form-textarea" data-field="pestel_e" placeholder="..."></textarea></div>
                        <div class="card"><h4>üë• Social</h4><textarea class="form-textarea" data-field="pestel_s" placeholder="..."></textarea></div>
                        <div class="card"><h4>üíª Technologique</h4><textarea class="form-textarea" data-field="pestel_t" placeholder="..."></textarea></div>
                        <div class="card"><h4>üåø Environnemental</h4><textarea class="form-textarea" data-field="pestel_en" placeholder="..."></textarea></div>
                        <div class="card"><h4>‚öñÔ∏è L√©gal</h4><textarea class="form-textarea" data-field="pestel_l" placeholder="..."></textarea></div>
                    </div>
                </section>

                <section id="juger-8" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase JUGER ‚Ä¢ Outil 8</div>
                        <h2 class="section-title">üå≥ Arbre √† Probl√®me</h2>
                    </div>
                    <div class="card">
                        <div class="form-group">
                            <label class="form-label">Probl√®me central</label>
                            <textarea class="form-textarea" data-field="arbre_probleme" placeholder="Le probl√®me principal..."></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Causes (racines)</label>
                            <textarea class="form-textarea" data-field="arbre_causes" placeholder="Pourquoi ce probl√®me existe ?"></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cons√©quences (branches)</label>
                            <textarea class="form-textarea" data-field="arbre_consequences" placeholder="Quels effets produit-il ?"></textarea>
                        </div>
                    </div>
                </section>

                <section id="juger-9" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase JUGER ‚Ä¢ Outil 9</div>
                        <h2 class="section-title">‚ùì Les 5 Pourquoi</h2>
                    </div>
                    <div class="card">
                        <div class="form-group"><label class="form-label">Pourquoi 1 ?</label><textarea class="form-textarea" data-field="pourquoi_1" placeholder="..."></textarea></div>
                        <div class="form-group"><label class="form-label">Pourquoi 2 ?</label><textarea class="form-textarea" data-field="pourquoi_2" placeholder="..."></textarea></div>
                        <div class="form-group"><label class="form-label">Pourquoi 3 ?</label><textarea class="form-textarea" data-field="pourquoi_3" placeholder="..."></textarea></div>
                        <div class="form-group"><label class="form-label">Pourquoi 4 ?</label><textarea class="form-textarea" data-field="pourquoi_4" placeholder="..."></textarea></div>
                        <div class="form-group"><label class="form-label">Pourquoi 5 ? (Cause racine)</label><textarea class="form-textarea" data-field="pourquoi_5" placeholder="..."></textarea></div>
                    </div>
                </section>

                <!-- AGIR 10-15 -->
                <section id="agir-10" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR ‚Ä¢ Outil 10</div>
                        <h2 class="section-title">‚ö° Modes d'Action</h2>
                    </div>
                    <div class="card">
                        <div class="form-group">
                            <label class="form-label">Avec le pouvoir</label>
                            <textarea class="form-textarea" data-field="modes_avec" placeholder="Lobbying, n√©gociation, partenariats..."></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Sans le pouvoir</label>
                            <textarea class="form-textarea" data-field="modes_sans" placeholder="Alternatives, projets pilotes..."></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Contre le pouvoir</label>
                            <textarea class="form-textarea" data-field="modes_contre" placeholder="Mobilisation, recours juridiques..."></textarea>
                        </div>
                    </div>
                </section>

                <section id="agir-11" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR ‚Ä¢ Outil 11</div>
                        <h2 class="section-title">üéØ Objectifs SMART</h2>
                    </div>
                    <div class="card">
                        <div class="form-group"><label class="form-label">S - Sp√©cifique</label><textarea class="form-textarea" data-field="smart_s" placeholder="Quoi exactement ?"></textarea></div>
                        <div class="form-group"><label class="form-label">M - Mesurable</label><textarea class="form-textarea" data-field="smart_m" placeholder="Comment mesurer le succ√®s ?"></textarea></div>
                        <div class="form-group"><label class="form-label">A - Atteignable</label><textarea class="form-textarea" data-field="smart_a" placeholder="Est-ce r√©aliste ?"></textarea></div>
                        <div class="form-group"><label class="form-label">R - Relevant</label><textarea class="form-textarea" data-field="smart_r" placeholder="Pourquoi c'est pertinent ?"></textarea></div>
                        <div class="form-group"><label class="form-label">T - Temporel</label><textarea class="form-textarea" data-field="smart_t" placeholder="Quelle √©ch√©ance ?"></textarea></div>
                    </div>
                </section>

                <section id="agir-12" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR ‚Ä¢ Outil 12</div>
                        <h2 class="section-title">ü§ù Cibles & Alliances</h2>
                    </div>
                    <div class="card">
                        <div class="form-group"><label class="form-label">Cibles principales</label><textarea class="form-textarea" data-field="cibles_principales" placeholder="Qui doit changer ?"></textarea></div>
                        <div class="form-group"><label class="form-label">Alli√©s strat√©giques</label><textarea class="form-textarea" data-field="allies" placeholder="Avec qui s'allier ?"></textarea></div>
                    </div>
                </section>

                <section id="agir-13" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR ‚Ä¢ Outil 13</div>
                        <h2 class="section-title">üí¨ Construction du Message</h2>
                    </div>
                    <div class="card">
                        <div class="form-group"><label class="form-label">1. Accroche</label><textarea class="form-textarea" data-field="msg_accroche" placeholder="Une phrase choc..." style="min-height:60px;"></textarea></div>
                        <div class="form-group"><label class="form-label">2. Probl√®me</label><textarea class="form-textarea" data-field="msg_probleme" placeholder="Le probl√®me..."></textarea></div>
                        <div class="form-group"><label class="form-label">3. Importance</label><textarea class="form-textarea" data-field="msg_importance" placeholder="Pourquoi c'est important..."></textarea></div>
                        <div class="form-group"><label class="form-label">4. Cible</label><input type="text" class="form-input" data-field="msg_cible" placeholder="√Ä qui ?"></div>
                        <div class="form-group"><label class="form-label">5. Action demand√©e</label><textarea class="form-textarea" data-field="msg_action" placeholder="Que demandez-vous ?"></textarea></div>
                        <button class="btn btn-primary" onclick="generateMessage()">‚ú® G√©n√©rer le message</button>
                        <div id="generated-message" style="display:none; margin-top:var(--space-4); padding:var(--space-4); background:var(--slate-100); border-radius:var(--radius-md);">
                            <h4 style="margin-bottom:var(--space-2);">üìù Votre message</h4>
                            <pre id="message-preview" style="white-space:pre-wrap; font-size:0.85rem;"></pre>
                            <button class="btn btn-secondary" onclick="copyMessage()" style="margin-top:var(--space-3);">üìã Copier</button>
                        </div>
                    </div>
                </section>

                <section id="agir-14" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR ‚Ä¢ Outil 14</div>
                        <h2 class="section-title">‚úÖ Check-list Rencontre</h2>
                    </div>
                    <div class="card">
                        <h3 class="card-title">T√¢ches</h3>
                        <ul class="checklist" id="checklist-container"></ul>
                        <div style="margin-top:var(--space-4); display:flex; gap:var(--space-2);">
                            <input type="text" class="form-input" id="new-task" placeholder="Nouvelle t√¢che..." style="flex:1;">
                            <button class="btn btn-primary" onclick="addTask()">‚ûï</button>
                        </div>
                    </div>
                </section>

                <section id="agir-15" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR ‚Ä¢ Outil 15</div>
                        <h2 class="section-title">üìà Suivi & √âvaluation</h2>
                    </div>
                    <div class="card">
                        <div class="form-group"><label class="form-label">Indicateurs de succ√®s</label><textarea class="form-textarea" data-field="eval_indicateurs" placeholder="Comment mesurer l'impact ?"></textarea></div>
                        <div class="form-group"><label class="form-label">M√©thodes de collecte</label><textarea class="form-textarea" data-field="eval_methodes" placeholder="Comment collecter les donn√©es ?"></textarea></div>
                        <div class="form-group"><label class="form-label">Calendrier d'√©valuation</label><textarea class="form-textarea" data-field="eval_calendrier" placeholder="Quand √©valuer ?"></textarea></div>
                        <div class="form-group"><label class="form-label">Le√ßons √† documenter</label><textarea class="form-textarea" data-field="eval_lecons" placeholder="Quoi apprendre ?"></textarea></div>
                    </div>
                </section>

                <!-- VEILLE -->
                <section id="veille" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Module</div>
                        <h2 class="section-title">üì° Veille Citoyenne</h2>
                    </div>
                    <div class="card">
                        <h3 class="card-title">Ajouter une veille</h3>
                        <div class="grid-2">
                            <div class="form-group"><label class="form-label">Titre</label><input type="text" class="form-input" id="veille-title-input"></div>
                            <div class="form-group"><label class="form-label">Cat√©gorie</label><select class="form-select" id="veille-category"><option value="politique">üèõÔ∏è Politique</option><option value="social">ü§ù Social</option><option value="economique">üí∞ √âconomique</option><option value="environnement">üåø Environnement</option></select></div>
                        </div>
                        <div class="form-group"><label class="form-label">Contenu</label><textarea class="form-textarea" id="veille-content"></textarea></div>
                        <div class="form-group"><label class="form-label">Source (URL)</label><input type="url" class="form-input" id="veille-source"></div>
                        <button class="btn btn-primary" onclick="addVeille()">‚ûï Ajouter</button>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìã Fil de veille (<span id="veille-count">0</span>)</h3>
                        <div id="veille-list"></div>
                    </div>
                </section>

                <!-- DATASETS -->
                <section id="datasets" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Module</div>
                        <h2 class="section-title">üìä Datasets & Donn√©es</h2>
                    </div>
                    <div class="dataset-card">
                        <h3 class="dataset-title">üáßüá™ S√©curit√© Sociale Belge ‚Äî R√©formes Arizona (2025-2026)</h3>
                    </div>
                    <div class="card">
                        <h3 class="card-title">üìà Indicateurs cl√©s</h3>
                        <div style="overflow-x:auto;">
                            <table class="data-table">
                                <thead><tr><th>Indicateur</th><th>Valeur</th><th>Comparaison</th></tr></thead>
                                <tbody>
                                    <tr><td>Coin fiscal</td><td><strong>52,6%</strong></td><td>Record OCDE</td></tr>
                                    <tr><td>Taux d'emploi</td><td><strong>72,3%</strong></td><td>-3,5 pts vs UE</td></tr>
                                    <tr><td>R√©duction pauvret√©</td><td><strong>52,7%</strong></td><td>+15 pts vs UE</td></tr>
                                    <tr><td>Personnes menac√©es</td><td><strong>90 000</strong></td><td>Vagues 1-4</td></tr>
                                    <tr><td>Manifestants 14/10/25</td><td><strong>140 000</strong></td><td>Record XXIe s.</td></tr>
                                    <tr><td>Ch√¥mage max</td><td><strong>24 mois</strong></td><td>Mars 2026</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- RESSOURCES -->
                <section id="ressources" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Module</div>
                        <h2 class="section-title">üìö Ressources</h2>
                    </div>
                    <div class="grid-2">
                        <div class="card">
                            <h3 class="card-title">üìñ Guides m√©thodologiques</h3>
                            <ul style="list-style:none; margin-top:var(--space-3);">
                                <li style="margin-bottom:var(--space-2);"><a href="https://www.justicepaix.be" target="_blank">üîó Justice et Paix ‚Äî Guide du Plaidoyer</a></li>
                                <li style="margin-bottom:var(--space-2);"><a href="https://www.voxpublic.org" target="_blank">üîó VoxPublic</a></li>
                                <li><a href="https://bond.org.uk/resources/advocacy-toolkit/" target="_blank">üîó BOND UK ‚Äî Advocacy Toolkit</a></li>
                            </ul>
                        </div>
                        <div class="card">
                            <h3 class="card-title">üèõÔ∏è Institutions</h3>
                            <ul style="list-style:none; margin-top:var(--space-3);">
                                <li style="margin-bottom:var(--space-2);"><a href="https://www.belgium.be/fr/la_belgique/pouvoirs_publics" target="_blank">üîó Belgium.be</a></li>
                                <li style="margin-bottom:var(--space-2);"><a href="https://www.lachambre.be" target="_blank">üîó Chambre des Repr√©sentants</a></li>
                                <li><a href="https://www.senate.be" target="_blank">üîó S√©nat</a></li>
                            </ul>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <!-- MODALS -->
    <div class="modal-overlay" id="import-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">üì• Importer</h3>
                <button class="modal-close" onclick="closeModal('import-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="drop-zone" id="drop-zone" onclick="document.getElementById('file-input').click()">
                    <div class="drop-zone-icon">üìÅ</div>
                    <div class="drop-zone-text">Glissez-d√©posez ou cliquez</div>
                    <div class="drop-zone-hint">JSON, Markdown, CSV, HTML, TXT</div>
                    <input type="file" id="file-input" accept=".json,.md,.csv,.html,.txt" style="display:none;" onchange="handleFileSelect(event)">
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="export-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">üì§ Exporter</h3>
                <button class="modal-close" onclick="closeModal('export-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="format-options">
                    <div class="format-option selected" data-format="json" onclick="selectFormat('json')"><div class="format-icon">üìã</div><div class="format-name">JSON</div><div class="format-ext">.json</div></div>
                    <div class="format-option" data-format="md" onclick="selectFormat('md')"><div class="format-icon">üìù</div><div class="format-name">Markdown</div><div class="format-ext">.md</div></div>
                    <div class="format-option" data-format="html" onclick="selectFormat('html')"><div class="format-icon">üåê</div><div class="format-name">HTML</div><div class="format-ext">.html</div></div>
                    <div class="format-option" data-format="csv" onclick="selectFormat('csv')"><div class="format-icon">üìä</div><div class="format-name">CSV</div><div class="format-ext">.csv</div></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeModal('export-modal')">Annuler</button>
                <button class="btn btn-primary" onclick="exportProject()">Exporter</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="shortcuts-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">‚å®Ô∏è Raccourcis</h3>
                <button class="modal-close" onclick="closeModal('shortcuts-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <table class="data-table">
                    <tbody>
                        <tr><td><kbd class="kbd">Ctrl</kbd>+<kbd class="kbd">S</kbd></td><td>Sauvegarder</td></tr>
                        <tr><td><kbd class="kbd">Ctrl</kbd>+<kbd class="kbd">E</kbd></td><td>Exporter</td></tr>
                        <tr><td><kbd class="kbd">Ctrl</kbd>+<kbd class="kbd">I</kbd></td><td>Importer</td></tr>
                        <tr><td><kbd class="kbd">Esc</kbd></td><td>Fermer modal</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="toast-container" id="toast-container"></div>

    <script>
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // DATA MODEL - With safe defaults
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        const DEFAULT_PROJECT = {
            meta: { version: '3.0', created: new Date().toISOString(), updated: new Date().toISOString(), title: 'Mon Plaidoyer', isDemo: false },
            fields: {},
            actors: [],
            veille: [],
            checklist: [],
            journal: []
        };

        let projectData = JSON.parse(JSON.stringify(DEFAULT_PROJECT));
        let selectedExportFormat = 'json';

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // SAFE ACCESSORS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function ensureArrays() {
            if (!Array.isArray(projectData.actors)) projectData.actors = [];
            if (!Array.isArray(projectData.veille)) projectData.veille = [];
            if (!Array.isArray(projectData.checklist)) projectData.checklist = [];
            if (!Array.isArray(projectData.journal)) projectData.journal = [];
            if (!projectData.fields) projectData.fields = {};
            if (!projectData.meta) projectData.meta = { version: '3.0' };
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // INITIALIZATION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        document.addEventListener('DOMContentLoaded', () => {
            loadProject();
            setupAutoSave();
            setupKeyboardShortcuts();
            setupDragDrop();
            updateUI();
        });

        function setupAutoSave() {
            document.querySelectorAll('[data-field]').forEach(el => {
                el.addEventListener('input', debounce((e) => {
                    projectData.fields[e.target.dataset.field] = e.target.value;
                    projectData.meta.updated = new Date().toISOString();
                    saveProject(false);
                    updateUI();
                }, 500));
            });
        }

        function setupKeyboardShortcuts() {
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey || e.metaKey) {
                    if (e.key === 's') { e.preventDefault(); saveProject(true); }
                    if (e.key === 'e') { e.preventDefault(); openModal('export-modal'); }
                    if (e.key === 'i') { e.preventDefault(); openModal('import-modal'); }
                }
                if (e.key === 'Escape') closeAllModals();
            });
        }

        function setupDragDrop() {
            const dropZone = document.getElementById('drop-zone');
            if (dropZone) {
                dropZone.ondragover = (e) => { e.preventDefault(); dropZone.classList.add('dragover'); };
                dropZone.ondragleave = () => dropZone.classList.remove('dragover');
                dropZone.ondrop = (e) => { e.preventDefault(); dropZone.classList.remove('dragover'); handleFileDrop(e); };
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // NAVIGATION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function switchSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            const target = document.getElementById(sectionId);
            if (target) target.classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.section === sectionId) item.classList.add('active');
            });

            document.getElementById('sidebar').classList.remove('open');
            document.querySelector('.main').scrollTop = 0;
        }

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // MODALS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function openModal(id) { document.getElementById(id)?.classList.add('active'); }
        function closeModal(id) { document.getElementById(id)?.classList.remove('active'); }
        function closeAllModals() { document.querySelectorAll('.modal-overlay').forEach(m => m.classList.remove('active')); }

        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => { if (e.target === overlay) overlay.classList.remove('active'); });
        });

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // ACTORS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function addActor() {
            const name = document.getElementById('actor-name')?.value.trim();
            if (!name) return showToast('Entrez un nom', 'error');

            ensureArrays();
            const actor = {
                id: Date.now(),
                name: name,
                role: document.getElementById('actor-role')?.value || '',
                position: document.getElementById('actor-type')?.value || 'neutral',
                power: parseInt(document.getElementById('actor-power')?.value || 3)
            };

            projectData.actors.push(actor);
            renderActors();
            saveProject(false);
            updateUI();

            document.getElementById('actor-name').value = '';
            document.getElementById('actor-role').value = '';
            showToast('Acteur ajout√© !', 'success');
        }

        function renderActors() {
            ensureArrays();
            ['manage', 'satisfy', 'inform', 'monitor'].forEach(q => {
                const el = document.getElementById(`actors-${q}`);
                if (el) el.innerHTML = '';
            });

            const listEl = document.getElementById('actors-list');
            if (listEl) listEl.innerHTML = '';

            projectData.actors.forEach(actor => {
                const quadrant = getQuadrant(actor.power, actor.position);
                const container = document.getElementById(`actors-${quadrant}`);
                
                if (container) {
                    const chip = document.createElement('span');
                    chip.className = `actor-chip ${actor.position}`;
                    chip.textContent = actor.name;
                    chip.title = actor.role || '';
                    chip.onclick = () => { if (confirm(`Supprimer ${actor.name} ?`)) removeActor(actor.id); };
                    container.appendChild(chip);
                }

                if (listEl) {
                    const row = document.createElement('div');
                    row.style.cssText = 'padding:8px 0;border-bottom:1px solid var(--slate-200);display:flex;justify-content:space-between;align-items:center;font-size:0.85rem;';
                    const positionColors = { ally: 'var(--emerald-500)', target: 'var(--amber-500)', opponent: 'var(--rose-500)', neutral: 'var(--slate-500)' };
                    row.innerHTML = `<div><strong>${actor.name}</strong> <small style="color:var(--slate-500);">${actor.role || ''}</small></div><span style="color:${positionColors[actor.position] || positionColors.neutral};">‚óè</span>`;
                    listEl.appendChild(row);
                }
            });

            const countEl = document.getElementById('actors-count');
            if (countEl) countEl.textContent = projectData.actors.length;
        }

        function getQuadrant(power, position) {
            const highPower = power >= 4;
            const highInterest = position === 'target' || position === 'ally';
            if (highPower && highInterest) return 'manage';
            if (highPower && !highInterest) return 'satisfy';
            if (!highPower && highInterest) return 'inform';
            return 'monitor';
        }

        function removeActor(id) {
            projectData.actors = projectData.actors.filter(a => a.id !== id);
            renderActors();
            saveProject(false);
            updateUI();
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // VEILLE
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function addVeille() {
            const title = document.getElementById('veille-title-input')?.value.trim();
            if (!title) return showToast('Entrez un titre', 'error');

            ensureArrays();
            const item = {
                id: Date.now(),
                title: title,
                category: document.getElementById('veille-category')?.value || 'politique',
                content: document.getElementById('veille-content')?.value || '',
                source: document.getElementById('veille-source')?.value || '',
                date: new Date().toISOString()
            };

            projectData.veille.unshift(item);
            renderVeille();
            saveProject(false);
            updateUI();

            document.getElementById('veille-title-input').value = '';
            document.getElementById('veille-content').value = '';
            document.getElementById('veille-source').value = '';
            showToast('Veille ajout√©e !', 'success');
        }

        function renderVeille() {
            ensureArrays();
            const container = document.getElementById('veille-list');
            if (!container) return;
            
            container.innerHTML = projectData.veille.length === 0 
                ? '<p style="color:var(--slate-500);text-align:center;padding:var(--space-4);">Aucune veille</p>'
                : '';

            projectData.veille.forEach(item => {
                const date = new Date(item.date);
                const el = document.createElement('article');
                el.className = `veille-item ${item.category}`;
                el.innerHTML = `
                    <div class="veille-meta"><div class="veille-date">${date.toLocaleDateString('fr-BE', { day: 'numeric', month: 'short' })}</div></div>
                    <div class="veille-content">
                        <div class="veille-title">${item.title}</div>
                        ${item.content ? `<p style="font-size:0.8rem;color:var(--slate-600);margin:4px 0;">${item.content.substring(0, 150)}${item.content.length > 150 ? '...' : ''}</p>` : ''}
                        ${item.source ? `<div class="veille-source"><a href="${item.source}" target="_blank">üîó Source</a></div>` : ''}
                    </div>
                `;
                container.appendChild(el);
            });

            const countEl = document.getElementById('veille-count');
            if (countEl) countEl.textContent = projectData.veille.length;
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // CHECKLIST
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function addTask() {
            const input = document.getElementById('new-task');
            const text = input?.value.trim();
            if (!text) return;

            ensureArrays();
            projectData.checklist.push({ id: Date.now(), task: text, done: false, phase: 'custom' });
            renderChecklist();
            saveProject(false);
            updateUI();
            input.value = '';
        }

        function toggleTask(id) {
            ensureArrays();
            const task = projectData.checklist.find(t => t.id === id);
            if (task) task.done = !task.done;
            renderChecklist();
            saveProject(false);
            updateUI();
        }

        function renderChecklist() {
            ensureArrays();
            const container = document.getElementById('checklist-container');
            if (!container) return;
            
            container.innerHTML = '';
            projectData.checklist.forEach(task => {
                const li = document.createElement('li');
                li.className = `checklist-item ${task.done ? 'completed' : ''}`;
                li.onclick = () => toggleTask(task.id);
                li.innerHTML = `<span class="checklist-checkbox">${task.done ? '‚úì' : ''}</span><span class="checklist-text">${task.task}</span>`;
                container.appendChild(li);
            });
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // MESSAGE GENERATOR
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function generateMessage() {
            const f = projectData.fields || {};
            const msg = `${f.msg_accroche || '[Accroche]'}

${f.msg_probleme || '[Probl√®me]'}

Pourquoi c'est important : ${f.msg_importance || '[Importance]'}

Nous demandons √† ${f.msg_cible || '[Cible]'} de ${f.msg_action || '[Action]'}.`;

            const preview = document.getElementById('message-preview');
            const container = document.getElementById('generated-message');
            if (preview) preview.textContent = msg;
            if (container) container.style.display = 'block';
        }

        function copyMessage() {
            const text = document.getElementById('message-preview')?.textContent;
            if (text) navigator.clipboard.writeText(text).then(() => showToast('Copi√© !', 'success'));
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // UI UPDATE
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function updateUI() {
            ensureArrays();
            const fields = projectData.fields || {};
            const filledFields = Object.values(fields).filter(v => v && String(v).trim()).length;
            const progress = Math.min(100, Math.round((filledFields / 25) * 100));

            const statProgress = document.getElementById('stat-progress');
            const statActors = document.getElementById('stat-actors');
            const statVeille = document.getElementById('stat-veille');
            const statChecks = document.getElementById('stat-checks');
            const globalValue = document.getElementById('global-progress-value');
            const globalFill = document.getElementById('global-progress-fill');

            if (statProgress) statProgress.textContent = progress + '%';
            if (statActors) statActors.textContent = projectData.actors.length;
            if (statVeille) statVeille.textContent = projectData.veille.length;
            if (statChecks) statChecks.textContent = projectData.checklist.filter(t => t.done).length + '/' + projectData.checklist.length;
            if (globalValue) globalValue.textContent = progress + '%';
            if (globalFill) globalFill.style.width = progress + '%';

            // Demo indicator
            const demoBanner = document.getElementById('demo-banner');
            const demoBadge = document.getElementById('demo-badge');
            const isDemo = projectData.meta?.isDemo;
            if (demoBanner) demoBanner.style.display = isDemo ? 'flex' : 'none';
            if (demoBadge) demoBadge.style.display = isDemo ? 'inline' : 'none';
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // SAVE / LOAD
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function saveProject(notify = true) {
            ensureArrays();
            projectData.meta.updated = new Date().toISOString();
            try {
                localStorage.setItem('plaidoyer_v3', JSON.stringify(projectData));
                if (notify) showToast('Sauvegard√© !', 'success');
            } catch (e) {
                console.error('Save error:', e);
                if (notify) showToast('Erreur de sauvegarde', 'error');
            }
        }

        function loadProject() {
            const saved = localStorage.getItem('plaidoyer_v3');
            if (saved) {
                try {
                    projectData = JSON.parse(saved);
                    ensureArrays();
                    restoreFields();
                    renderActors();
                    renderVeille();
                    renderChecklist();
                } catch (e) {
                    console.error('Load error:', e);
                    projectData = JSON.parse(JSON.stringify(DEFAULT_PROJECT));
                }
            }
        }

        function restoreFields() {
            Object.entries(projectData.fields || {}).forEach(([key, value]) => {
                const el = document.querySelector(`[data-field="${key}"]`);
                if (el) el.value = value || '';
            });
        }

        function resetProject() {
            if (confirm('R√©initialiser toutes les donn√©es ?')) {
                projectData = JSON.parse(JSON.stringify(DEFAULT_PROJECT));
                localStorage.removeItem('plaidoyer_v3');
                location.reload();
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // DEMO DATA
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function loadDemoData() {
            projectData = {
                meta: { version: '3.0', created: '2026-01-15T09:00:00.000Z', updated: new Date().toISOString(), title: 'STOP Arizona ‚Äî D√©fense du Mod√®le Social Belge', isDemo: true },
                fields: {
                    domino_vision: "D'ici fin 2027, obtenir par voie judiciaire et/ou politique :\n\n1. L'ANNULATION de la limitation des allocations de ch√¥mage √† 24 mois (article 23 Constitution)\n2. Une COMPENSATION INT√âGRALE des CPAS par le f√©d√©ral (100% du surco√ªt r√©el)\n3. L'ABANDON du syst√®me bonus-malus p√©nalisant les communes pauvres\n4. La SUPPRESSION des sanctions financi√®res (-2,5%) pour les malades de longue dur√©e\n5. Le MAINTIEN de la gratuit√© des m√©dicaments d'importance vitale",
                    domino_obstacles: "OBSTACLES POLITIQUES :\n‚Ä¢ Majorit√© parlementaire Arizona solide (N-VA + MR + Engag√©s + CD&V + Vooruit)\n‚Ä¢ Premier ministre Bart De Wever (N-VA) : architecte id√©ologique\n‚Ä¢ Contrainte budg√©taire de 23 milliards ‚Ç¨ impos√©e par l'UE\n\nOBSTACLES ADMINISTRATIFS :\n‚Ä¢ Calendrier serr√© : Vague 2 d√®s le 1er mars 2026\n‚Ä¢ 90.000 personnes concern√©es",
                    domino_ressources: "FORCE DE FRAPPE SYNDICALE :\n‚Ä¢ Front commun FGTB + CSC + CGSLB (1,5 million de membres)\n‚Ä¢ Capacit√© de mobilisation nationale\n\nLEVIER JURIDIQUE :\n‚Ä¢ Recours constitutionnel introduit le 29 octobre 2025\n‚Ä¢ Article 23 : principe de standstill",
                    profil_motivations: "V√âCU PERSONNEL :\nNous sommes des citoyen¬∑ne¬∑s directement concern√©¬∑e¬∑s : ch√¥meurs de longue dur√©e, malades chroniques, travailleurs sociaux.\n\nURGENCE SOCIALE :\n‚Ä¢ 2,1 millions de Belges en risque de pauvret√© (18,3% AROPE)\n‚Ä¢ 90.000 personnes menac√©es d'exclusion du ch√¥mage",
                    profil_competences: "üìä Analyse et recherche\nüì¢ Communication et vulgarisation\n‚öñÔ∏è Expertise juridique (art. 23)\nü§ù Mobilisation et coordination",
                    fleur_identites: "üë• Ch√¥meurs de longue dur√©e (50-55 ans)\nüè• Malades de longue dur√©e (500.000+)\nüë®‚Äçüë©‚Äçüëß Familles monoparentales (80% femmes)\nüéì √âtudiants pr√©caris√©s (58% ins√©curit√© alimentaire)",
                    fleur_privileges: "‚úÖ Acc√®s √† l'information\n‚úÖ Capital social (organisations)\n‚úÖ L√©gitimit√© de parole\n‚úÖ Ressources institutionnelles",
                    fleur_oppressions: "üéØ Violence symbolique : discours culpabilisant\nüéØ Violence administrative : complexit√© volontaire\nüéØ Violence √©conomique : effet falaise\nüéØ Discrimination indirecte : femmes, √¢g√©s, Bruxellois",
                    swot_forces: "‚Ä¢ Front commun syndical 1,5M membres\n‚Ä¢ Recours constitutionnel en cours\n‚Ä¢ R√©seau associatif dense\n‚Ä¢ Expertise acad√©mique (DULBEA, IWEPS)",
                    swot_faiblesses: "‚Ä¢ Pas de budget de campagne\n‚Ä¢ Barri√®re linguistique\n‚Ä¢ Publics difficiles √† mobiliser",
                    swot_opportunites: "‚Ä¢ Arr√™t Cour Constitutionnelle attendu\n‚Ä¢ 140K manifestants mobilisables\n‚Ä¢ Saturation pr√©visible des CPAS",
                    swot_menaces: "‚Ä¢ Majorit√© parlementaire solide\n‚Ä¢ Contrainte budg√©taire UE\n‚Ä¢ Risque d'√©puisement militant",
                    eval_indicateurs: "üìä QUANTITATIFS :\n‚Ä¢ Nombre de personnes prot√©g√©es par un moratoire ‚Üí Cible : 90.000\n‚Ä¢ Participation aux manifestations ‚Üí Cible : 50.000\n‚Ä¢ T√©moignages collect√©s ‚Üí Cible : 1000\n\nüìà QUALITATIFS :\n‚Ä¢ Arr√™t Cour Constitutionnelle favorable\n‚Ä¢ Inflexion du discours gouvernemental"
                },
                actors: [
                    { id: 1, name: "Bart De Wever", role: "Premier Ministre (N-VA)", position: "opponent", power: 5 },
                    { id: 2, name: "Frank Vandenbroucke", role: "Ministre Affaires sociales (Vooruit)", position: "neutral", power: 5 },
                    { id: 3, name: "Georges-Louis Bouchez", role: "Pr√©sident MR", position: "opponent", power: 4 },
                    { id: 4, name: "Thierry Bodson", role: "Pr√©sident FGTB", position: "ally", power: 4 },
                    { id: 5, name: "Marie-H√©l√®ne Ska", role: "Secr√©taire g√©n√©rale CSC", position: "ally", power: 4 },
                    { id: 6, name: "Paul Magnette", role: "Pr√©sident PS (opposition)", position: "ally", power: 3 },
                    { id: 7, name: "Raoul Hedebouw", role: "Pr√©sident PTB (opposition)", position: "ally", power: 3 },
                    { id: 8, name: "UVCW + Brulocalis", role: "F√©d√©rations CPAS", position: "ally", power: 3 },
                    { id: 9, name: "Cour Constitutionnelle", role: "Juridiction supr√™me", position: "target", power: 5 }
                ],
                veille: [
                    { id: 1, title: "140.000 manifestants contre les r√©formes Arizona", category: "social", content: "Plus grande manifestation du XXIe si√®cle en Belgique", date: "2025-10-14T14:00:00.000Z", source: "" },
                    { id: 2, title: "Recours constitutionnel d√©pos√©", category: "politique", content: "Front commun syndical attaque la limitation du ch√¥mage √† 24 mois", date: "2025-10-29T10:00:00.000Z", source: "" },
                    { id: 3, title: "Vague 2 d'exclusions au 1er mars 2026", category: "politique", content: "90.000 personnes concern√©es par les premi√®res exclusions", date: "2026-01-15T09:00:00.000Z", source: "" }
                ],
                checklist: [
                    { id: 1, task: "Constituer le dossier juridique complet", phase: "avant", done: true },
                    { id: 2, task: "Identifier et briefer 10 t√©moins repr√©sentatifs", phase: "avant", done: true },
                    { id: 3, task: "Pr√©parer les argumentaires chiffr√©s (DULBEA, ONEM)", phase: "avant", done: true },
                    { id: 4, task: "Briefer les porte-parole syndicaux", phase: "avant", done: false },
                    { id: 5, task: "Coordonner avec l'opposition parlementaire", phase: "avant", done: false },
                    { id: 6, task: "Pr√©parer le kit m√©dia complet", phase: "avant", done: false },
                    { id: 7, task: "Contacter journalistes cl√©s (RTBF, Le Soir)", phase: "avant", done: false },
                    { id: 8, task: "Documenter l'action (photos, vid√©os)", phase: "pendant", done: false },
                    { id: 9, task: "Diffuser compte-rendu dans les 24h", phase: "apres", done: false },
                    { id: 10, task: "Organiser d√©briefing interne", phase: "apres", done: false }
                ],
                journal: []
            };

            saveProject(false);
            restoreFields();
            renderActors();
            renderVeille();
            renderChecklist();
            updateUI();
            showToast('Donn√©es D√âMO charg√©es !', 'success');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // IMPORT / EXPORT
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function selectFormat(format) {
            selectedExportFormat = format;
            document.querySelectorAll('.format-option').forEach(opt => opt.classList.toggle('selected', opt.dataset.format === format));
        }

        function exportProject() {
            ensureArrays();
            const filename = `plaidoyer_${new Date().toISOString().slice(0, 10)}`;
            let content, type;

            switch (selectedExportFormat) {
                case 'json':
                    content = JSON.stringify(projectData, null, 2);
                    type = 'application/json';
                    break;
                case 'md':
                    content = generateMarkdown();
                    type = 'text/markdown';
                    break;
                case 'html':
                    content = generateHTML();
                    type = 'text/html';
                    break;
                case 'csv':
                    content = generateCSV();
                    type = 'text/csv';
                    break;
            }

            downloadFile(content, `${filename}.${selectedExportFormat}`, type);
            closeModal('export-modal');
            showToast(`Export ${selectedExportFormat.toUpperCase()} OK !`, 'success');
        }

        function generateMarkdown() {
            let md = `# ${projectData.meta?.title || 'Projet de Plaidoyer'}\n\n*Export√© le ${new Date().toLocaleDateString('fr-BE')}*\n\n---\n\n`;
            Object.entries(projectData.fields || {}).forEach(([k, v]) => {
                if (v && String(v).trim()) md += `## ${k.replace(/_/g, ' ').toUpperCase()}\n\n${v}\n\n`;
            });
            if (projectData.actors?.length) {
                md += `## ACTEURS\n\n`;
                projectData.actors.forEach(a => md += `- **${a.name}** (${a.position}) ‚Äî ${a.role || ''}\n`);
            }
            return md;
        }

        function generateHTML() {
            return `<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><title>Plaidoyer Export</title><style>body{font-family:system-ui;max-width:800px;margin:0 auto;padding:2rem}h1{color:#1e293b;border-bottom:3px solid #eab308}h2{color:#475569;margin-top:2rem}.field{background:#f1f5f9;padding:1rem;border-radius:8px;margin-bottom:1rem}</style></head><body><h1>${projectData.meta?.title || 'Plaidoyer'}</h1>${Object.entries(projectData.fields || {}).filter(([k, v]) => v && String(v).trim()).map(([k, v]) => `<div class="field"><h2>${k.replace(/_/g, ' ')}</h2><p>${String(v).replace(/\n/g, '<br>')}</p></div>`).join('')}</body></html>`;
        }

        function generateCSV() {
            let csv = 'Type,Cl√©,Valeur\n';
            Object.entries(projectData.fields || {}).forEach(([k, v]) => {
                if (v && String(v).trim()) csv += `Champ,"${k}","${String(v).replace(/"/g, '""').replace(/\n/g, ' ')}"\n`;
            });
            (projectData.actors || []).forEach(a => csv += `Acteur,"${a.name}","${a.position} - ${a.role || ''}"\n`);
            return csv;
        }

        function handleFileDrop(e) {
            const file = e.dataTransfer?.files[0];
            if (file) processImportFile(file);
        }

        function handleFileSelect(e) {
            const file = e.target?.files[0];
            if (file) processImportFile(file);
        }

        function processImportFile(file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    const ext = file.name.split('.').pop().toLowerCase();
                    
                    if (ext === 'json') {
                        const imported = JSON.parse(e.target.result);
                        
                        // Smart mapping from different formats
                        if (imported.domino) {
                            // Format dataset-plaidoyer-arizona.json
                            projectData.meta = { version: '3.0', updated: new Date().toISOString(), title: imported.project?.name || 'Import', isDemo: false };
                            projectData.fields = {
                                domino_vision: imported.domino?.vision || '',
                                domino_obstacles: imported.domino?.obstacles || '',
                                domino_ressources: imported.domino?.ressources || '',
                                profil_motivations: imported.profil?.motivations || '',
                                profil_competences: imported.profil?.competences || '',
                                profil_temps: imported.profil?.temps || '',
                                profil_limites: imported.profil?.limites || '',
                                fleur_identites: imported.fleur?.identites || '',
                                fleur_privileges: imported.fleur?.privileges || '',
                                fleur_oppressions: imported.fleur?.oppressions || '',
                                eval_indicateurs: imported.evaluation?.indicateurs || '',
                                eval_methodes: imported.evaluation?.methodes || '',
                                eval_calendrier: imported.evaluation?.calendrier || '',
                                eval_lecons: imported.evaluation?.lecons || ''
                            };
                            projectData.actors = (imported.acteurs || []).map((a, i) => ({
                                id: i + 1,
                                name: a.name,
                                role: a.role || '',
                                position: a.position || 'neutral',
                                power: a.power || 3
                            }));
                            projectData.checklist = (imported.checklist || []).map((t, i) => ({
                                id: i + 1,
                                task: t.task,
                                done: t.done || false,
                                phase: t.phase || 'custom'
                            }));
                            projectData.veille = [];
                            projectData.journal = [];
                        } else if (imported.fields) {
                            // Native format
                            projectData = { ...DEFAULT_PROJECT, ...imported };
                        } else {
                            throw new Error('Format non reconnu');
                        }
                    } else {
                        projectData.fields.imported_content = e.target.result;
                    }

                    ensureArrays();
                    saveProject(false);
                    closeModal('import-modal');
                    showToast('Import r√©ussi !', 'success');
                    setTimeout(() => location.reload(), 500);
                } catch (err) {
                    console.error('Import error:', err);
                    showToast('Erreur: ' + err.message, 'error');
                }
            };
            reader.readAsText(file);
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // UTILITIES
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function downloadFile(content, filename, type) {
            const blob = new Blob([content], { type });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }

        function showToast(message, type = 'info') {
            const container = document.getElementById('toast-container');
            if (!container) return;
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `<span>${type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ÑπÔ∏è'}</span><span>${message}</span>`;
            container.appendChild(toast);
            setTimeout(() => { toast.style.opacity = '0'; setTimeout(() => toast.remove(), 300); }, 3000);
        }

        function debounce(fn, delay) {
            let timeout;
            return (...args) => { clearTimeout(timeout); timeout = setTimeout(() => fn(...args), delay); };
        }
    </script>
</body>
</html>
