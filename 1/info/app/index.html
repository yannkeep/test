<!DOCTYPE html>
<html lang="fr" prefix="og: https://ogp.me/ns#" itemscope itemtype="https://schema.org/WebApplication">
<head>
    <!-- ═══════════════════════════════════════════════════════════════════════════
         PLAIDOYER CITOYEN WORKSTATION v3.0
         Poste de Travail pour la Participation Citoyenne et l'Éducation Populaire
         Optimisé SEO / Web Sémantique / Schema.org / Open Graph
         Licence: Creative Commons BY-NC-SA 4.0
         ═══════════════════════════════════════════════════════════════════════════ -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- SEO Meta Tags -->
    <title>Plaidoyer Citoyen Workstation | 15 Outils pour le Changement Social</title>
    <meta name="description" content="Poste de travail numérique gratuit pour construire votre stratégie de plaidoyer citoyen. 15 outils basés sur la méthodologie Voir-Juger-Agir. Import/Export multiformats.">
    <meta name="keywords" content="plaidoyer citoyen, participation citoyenne, démocratie participative, éducation populaire, voir juger agir, advocacy, changement social, Belgique, sécurité sociale, coalition Arizona">
    <meta name="author" content="Collectif Plaidoyer Citoyen">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <meta name="googlebot" content="index, follow">
    <link rel="canonical" href="https://plaidoyer-citoyen.be/workstation">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://plaidoyer-citoyen.be/workstation">
    <meta property="og:title" content="Plaidoyer Citoyen Workstation | 15 Outils pour le Changement Social">
    <meta property="og:description" content="Construisez votre stratégie de plaidoyer avec 15 outils méthodologiques. Gratuit, open-source, sans inscription.">
    <meta property="og:image" content="https://plaidoyer-citoyen.be/og-image.png">
    <meta property="og:locale" content="fr_BE">
    <meta property="og:site_name" content="Plaidoyer Citoyen">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Plaidoyer Citoyen Workstation">
    <meta name="twitter:description" content="15 outils gratuits pour construire votre stratégie de changement social.">
    <meta name="twitter:image" content="https://plaidoyer-citoyen.be/twitter-card.png">
    
    <!-- PWA / Mobile -->
    <meta name="theme-color" content="#1a365d">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="/manifest.json">
    
    <!-- Preconnect & Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,400;0,6..72,600;0,6..72,700;1,6..72,400&family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Schema.org JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@graph": [
            {
                "@type": "WebApplication",
                "@id": "https://plaidoyer-citoyen.be/workstation#app",
                "name": "Plaidoyer Citoyen Workstation",
                "alternateName": "PCW",
                "description": "Poste de travail numérique pour construire et suivre des stratégies de plaidoyer citoyen basées sur la méthodologie Voir-Juger-Agir.",
                "url": "https://plaidoyer-citoyen.be/workstation",
                "applicationCategory": "UtilitiesApplication",
                "operatingSystem": "Any",
                "browserRequirements": "Requires JavaScript",
                "softwareVersion": "3.0",
                "offers": {
                    "@type": "Offer",
                    "price": "0",
                    "priceCurrency": "EUR"
                },
                "featureList": [
                    "15 outils méthodologiques",
                    "Import/Export multiformats (JSON, Markdown, HTML, CSV)",
                    "Cartographie des acteurs",
                    "Générateur de messages de plaidoyer",
                    "Tableau de bord analytique",
                    "Module de veille citoyenne"
                ],
                "screenshot": "https://plaidoyer-citoyen.be/screenshot.png",
                "author": {
                    "@type": "Organization",
                    "name": "Collectif Plaidoyer Citoyen",
                    "url": "https://plaidoyer-citoyen.be"
                }
            },
            {
                "@type": "HowTo",
                "@id": "https://plaidoyer-citoyen.be/workstation#howto",
                "name": "Comment mener un plaidoyer citoyen efficace",
                "description": "Guide méthodologique en 3 phases et 15 outils pour influencer les politiques publiques.",
                "totalTime": "P30D",
                "step": [
                    {
                        "@type": "HowToSection",
                        "name": "Phase VOIR",
                        "itemListElement": [
                            {"@type": "HowToStep", "name": "Domino du changement", "text": "Identifiez votre vision et vos valeurs"},
                            {"@type": "HowToStep", "name": "Profil d'engagement", "text": "Découvrez votre type de militant"},
                            {"@type": "HowToStep", "name": "Fleur de pouvoir", "text": "Analysez vos privilèges et identités"},
                            {"@type": "HowToStep", "name": "Cartographie des acteurs", "text": "Mappez les parties prenantes"}
                        ]
                    },
                    {
                        "@type": "HowToSection",
                        "name": "Phase JUGER",
                        "itemListElement": [
                            {"@type": "HowToStep", "name": "Théorie du changement", "text": "Définissez votre vision systémique"},
                            {"@type": "HowToStep", "name": "Analyse SWOT", "text": "Évaluez forces, faiblesses, opportunités, menaces"},
                            {"@type": "HowToStep", "name": "Analyse PESTEL", "text": "Comprenez l'environnement macro"},
                            {"@type": "HowToStep", "name": "Arbre à problème", "text": "Identifiez causes et conséquences"},
                            {"@type": "HowToStep", "name": "Les 5 pourquoi", "text": "Remontez aux causes racines"}
                        ]
                    },
                    {
                        "@type": "HowToSection",
                        "name": "Phase AGIR",
                        "itemListElement": [
                            {"@type": "HowToStep", "name": "Modes d'action", "text": "Choisissez: avec, sans ou contre le pouvoir"},
                            {"@type": "HowToStep", "name": "Objectifs SMART", "text": "Définissez des objectifs mesurables"},
                            {"@type": "HowToStep", "name": "Cibles et alliances", "text": "Identifiez qui convaincre"},
                            {"@type": "HowToStep", "name": "Construction du message", "text": "Formulez votre argumentaire"},
                            {"@type": "HowToStep", "name": "Check-list rencontre", "text": "Préparez vos rendez-vous"},
                            {"@type": "HowToStep", "name": "Suivi et évaluation", "text": "Mesurez votre impact"}
                        ]
                    }
                ]
            },
            {
                "@type": "Dataset",
                "@id": "https://plaidoyer-citoyen.be/workstation#dataset-arizona",
                "name": "Données sur la Coalition Arizona et la Sécurité Sociale Belge",
                "description": "Données structurées sur les réformes de la sécurité sociale belge par le gouvernement Arizona (2025)",
                "keywords": ["Belgique", "sécurité sociale", "Arizona", "réforme", "pensions", "chômage"],
                "temporalCoverage": "2024/2026",
                "spatialCoverage": {
                    "@type": "Place",
                    "name": "Belgique"
                },
                "creator": {
                    "@type": "Organization",
                    "name": "Collectif Plaidoyer Citoyen"
                }
            },
            {
                "@type": "Organization",
                "@id": "https://plaidoyer-citoyen.be#org",
                "name": "Collectif Plaidoyer Citoyen",
                "description": "Réseau d'éducation populaire pour la participation citoyenne en Belgique",
                "url": "https://plaidoyer-citoyen.be",
                "sameAs": [
                    "https://www.facebook.com/plaidoyercitoyen",
                    "https://twitter.com/plaidoyerbe"
                ]
            }
        ]
    }
    </script>

    <style>
        /* ═══════════════════════════════════════════════════════════════
           DESIGN SYSTEM: EDITORIAL CIVIQUE
           Inspiré du journalisme de qualité et de l'architecture institutionnelle
           ═══════════════════════════════════════════════════════════════ */
        
        :root {
            /* Palette Civique - Bleu institutionnel + Or démocratique */
            --navy-900: #0f172a;
            --navy-800: #1e293b;
            --navy-700: #334155;
            --navy-600: #475569;
            --slate-500: #64748b;
            --slate-400: #94a3b8;
            --slate-300: #cbd5e1;
            --slate-200: #e2e8f0;
            --slate-100: #f1f5f9;
            --white: #ffffff;
            
            /* Accent Colors */
            --gold-500: #eab308;
            --gold-400: #facc15;
            --gold-300: #fde047;
            --amber-500: #f59e0b;
            --emerald-500: #10b981;
            --emerald-400: #34d399;
            --rose-500: #f43f5e;
            --rose-400: #fb7185;
            --sky-500: #0ea5e9;
            --violet-500: #8b5cf6;
            
            /* Semantic Colors */
            --voir-color: #3b82f6;
            --voir-bg: rgba(59, 130, 246, 0.1);
            --juger-color: #8b5cf6;
            --juger-bg: rgba(139, 92, 246, 0.1);
            --agir-color: #10b981;
            --agir-bg: rgba(16, 185, 129, 0.1);
            
            /* Typography */
            --font-display: 'Newsreader', Georgia, serif;
            --font-body: 'DM Sans', system-ui, sans-serif;
            --font-mono: 'IBM Plex Mono', 'Consolas', monospace;
            
            /* Spacing Scale */
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            
            /* Borders & Shadows */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
            --shadow-glow: 0 0 40px rgba(234, 179, 8, 0.15);
            
            /* Transitions */
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Layout */
            --header-height: 64px;
            --sidebar-width: 280px;
            --max-content: 1400px;
        }

        /* ═══════════════════════════════════════════════════════════════
           RESET & BASE
           ═══════════════════════════════════════════════════════════════ */
        
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: var(--font-body);
            background: var(--slate-100);
            color: var(--navy-800);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ═══════════════════════════════════════════════════════════════
           TYPOGRAPHY
           ═══════════════════════════════════════════════════════════════ */
        
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-display);
            font-weight: 600;
            line-height: 1.3;
            color: var(--navy-900);
        }

        h1 { font-size: clamp(2rem, 5vw, 3rem); letter-spacing: -0.02em; }
        h2 { font-size: clamp(1.5rem, 4vw, 2rem); letter-spacing: -0.01em; }
        h3 { font-size: clamp(1.25rem, 3vw, 1.5rem); }
        h4 { font-size: 1.125rem; }

        p { margin-bottom: var(--space-4); }
        
        a {
            color: var(--sky-500);
            text-decoration: none;
            transition: color var(--transition-fast);
        }
        
        a:hover { color: var(--violet-500); }

        code, pre {
            font-family: var(--font-mono);
            font-size: 0.875em;
        }

        ::selection {
            background: var(--gold-300);
            color: var(--navy-900);
        }

        /* ═══════════════════════════════════════════════════════════════
           LAYOUT STRUCTURE
           ═══════════════════════════════════════════════════════════════ */
        
        .app-container {
            display: grid;
            grid-template-columns: var(--sidebar-width) 1fr;
            grid-template-rows: var(--header-height) 1fr;
            grid-template-areas:
                "header header"
                "sidebar main";
            min-height: 100vh;
        }

        @media (max-width: 1024px) {
            .app-container {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "header"
                    "main";
            }
        }

        /* ═══════════════════════════════════════════════════════════════
           HEADER
           ═══════════════════════════════════════════════════════════════ */
        
        .header {
            grid-area: header;
            background: var(--navy-900);
            border-bottom: 3px solid var(--gold-500);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 var(--space-6);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .logo-mark {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--gold-500), var(--amber-500));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            box-shadow: 0 0 20px rgba(234, 179, 8, 0.3);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-title {
            font-family: var(--font-display);
            font-weight: 700;
            font-size: 1.125rem;
            color: var(--white);
            letter-spacing: -0.01em;
        }

        .logo-subtitle {
            font-size: 0.7rem;
            color: var(--slate-400);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .header-actions {
            display: flex;
            gap: var(--space-2);
        }

        .btn {
            font-family: var(--font-body);
            font-weight: 600;
            font-size: 0.875rem;
            padding: var(--space-2) var(--space-4);
            border-radius: var(--radius-md);
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            transition: all var(--transition-fast);
            white-space: nowrap;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--gold-500), var(--amber-500));
            color: var(--navy-900);
            box-shadow: 0 2px 8px rgba(234, 179, 8, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(234, 179, 8, 0.4);
        }

        .btn-secondary {
            background: var(--navy-700);
            color: var(--white);
            border: 1px solid var(--navy-600);
        }

        .btn-secondary:hover {
            background: var(--navy-600);
            border-color: var(--slate-500);
        }

        .btn-ghost {
            background: transparent;
            color: var(--slate-300);
            border: 1px solid transparent;
        }

        .btn-ghost:hover {
            background: var(--navy-800);
            border-color: var(--navy-600);
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            padding: 0;
            justify-content: center;
        }

        /* ═══════════════════════════════════════════════════════════════
           SIDEBAR NAVIGATION
           ═══════════════════════════════════════════════════════════════ */
        
        .sidebar {
            grid-area: sidebar;
            background: var(--white);
            border-right: 1px solid var(--slate-200);
            padding: var(--space-6) 0;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        @media (max-width: 1024px) {
            .sidebar {
                position: fixed;
                left: -100%;
                top: var(--header-height);
                bottom: 0;
                width: var(--sidebar-width);
                z-index: 999;
                transition: left var(--transition-base);
                box-shadow: var(--shadow-lg);
            }
            
            .sidebar.open {
                left: 0;
            }
        }

        .nav-section {
            margin-bottom: var(--space-6);
        }

        .nav-section-title {
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--slate-500);
            padding: 0 var(--space-6) var(--space-2);
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-6);
            color: var(--navy-700);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
            border-left: 3px solid transparent;
        }

        .nav-item:hover {
            background: var(--slate-100);
            color: var(--navy-900);
        }

        .nav-item.active {
            background: var(--slate-100);
            border-left-color: var(--gold-500);
            color: var(--navy-900);
        }

        .nav-item[data-phase="voir"].active { border-left-color: var(--voir-color); }
        .nav-item[data-phase="juger"].active { border-left-color: var(--juger-color); }
        .nav-item[data-phase="agir"].active { border-left-color: var(--agir-color); }

        .nav-icon {
            width: 20px;
            text-align: center;
            font-size: 1rem;
        }

        .nav-badge {
            margin-left: auto;
            font-size: 0.7rem;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 10px;
            background: var(--slate-200);
            color: var(--slate-600);
        }

        .nav-badge.new {
            background: var(--rose-500);
            color: var(--white);
        }

        /* Progress indicator in sidebar */
        .sidebar-progress {
            margin-top: auto;
            padding: var(--space-4) var(--space-6);
            background: var(--slate-100);
            border-top: 1px solid var(--slate-200);
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: var(--space-2);
        }

        .progress-bar {
            height: 6px;
            background: var(--slate-300);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--voir-color), var(--juger-color), var(--agir-color));
            border-radius: 3px;
            transition: width var(--transition-slow);
        }

        /* ═══════════════════════════════════════════════════════════════
           MAIN CONTENT AREA
           ═══════════════════════════════════════════════════════════════ */
        
        .main {
            grid-area: main;
            padding: var(--space-8);
            overflow-y: auto;
            background: var(--slate-100);
        }

        .content-wrapper {
            max-width: var(--max-content);
            margin: 0 auto;
        }

        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Section Header */
        .section-header {
            margin-bottom: var(--space-8);
        }

        .section-eyebrow {
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--gold-500);
            margin-bottom: var(--space-2);
        }

        .section-title {
            margin-bottom: var(--space-3);
        }

        .section-description {
            font-size: 1.125rem;
            color: var(--slate-600);
            max-width: 65ch;
        }

        /* ═══════════════════════════════════════════════════════════════
           CARDS
           ═══════════════════════════════════════════════════════════════ */
        
        .card {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
            border: 1px solid var(--slate-200);
            box-shadow: var(--shadow-sm);
            transition: all var(--transition-fast);
        }

        .card:hover {
            box-shadow: var(--shadow-md);
        }

        .card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: var(--space-4);
        }

        .card-title {
            font-size: 1.125rem;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .card-badge {
            font-size: 0.65rem;
            font-weight: 700;
            text-transform: uppercase;
            padding: 2px 8px;
            border-radius: 4px;
        }

        .badge-voir { background: var(--voir-bg); color: var(--voir-color); }
        .badge-juger { background: var(--juger-bg); color: var(--juger-color); }
        .badge-agir { background: var(--agir-bg); color: var(--agir-color); }

        /* ═══════════════════════════════════════════════════════════════
           FORMS
           ═══════════════════════════════════════════════════════════════ */
        
        .form-group {
            margin-bottom: var(--space-5);
        }

        .form-label {
            display: block;
            font-weight: 600;
            font-size: 0.875rem;
            margin-bottom: var(--space-2);
            color: var(--navy-800);
        }

        .form-hint {
            font-size: 0.8rem;
            color: var(--slate-500);
            margin-top: var(--space-1);
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            font-family: var(--font-body);
            font-size: 0.9375rem;
            padding: var(--space-3) var(--space-4);
            border: 1.5px solid var(--slate-300);
            border-radius: var(--radius-md);
            background: var(--white);
            color: var(--navy-800);
            transition: all var(--transition-fast);
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--gold-500);
            box-shadow: 0 0 0 3px rgba(234, 179, 8, 0.15);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
            line-height: 1.6;
        }

        /* ═══════════════════════════════════════════════════════════════
           GRID LAYOUTS
           ═══════════════════════════════════════════════════════════════ */
        
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-6);
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-6);
        }

        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-4);
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3, .grid-4 {
                grid-template-columns: 1fr;
            }
        }

        /* ═══════════════════════════════════════════════════════════════
           STATS CARDS
           ═══════════════════════════════════════════════════════════════ */
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-8);
        }

        .stat-card {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            border: 1px solid var(--slate-200);
            text-align: center;
        }

        .stat-value {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--navy-900);
            line-height: 1;
            margin-bottom: var(--space-1);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--slate-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* ═══════════════════════════════════════════════════════════════
           PHASE CARDS (Home)
           ═══════════════════════════════════════════════════════════════ */
        
        .phase-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-6);
            margin-bottom: var(--space-8);
        }

        @media (max-width: 900px) {
            .phase-cards {
                grid-template-columns: 1fr;
            }
        }

        .phase-card {
            background: var(--white);
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
        }

        .phase-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .phase-card.voir::before { background: var(--voir-color); }
        .phase-card.juger::before { background: var(--juger-color); }
        .phase-card.agir::before { background: var(--agir-color); }

        .phase-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .phase-card.voir:hover { border-color: var(--voir-color); }
        .phase-card.juger:hover { border-color: var(--juger-color); }
        .phase-card.agir:hover { border-color: var(--agir-color); }

        .phase-icon {
            font-size: 3rem;
            margin-bottom: var(--space-4);
        }

        .phase-name {
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: var(--space-2);
        }

        .phase-card.voir .phase-name { color: var(--voir-color); }
        .phase-card.juger .phase-name { color: var(--juger-color); }
        .phase-card.agir .phase-name { color: var(--agir-color); }

        .phase-desc {
            color: var(--slate-600);
            font-size: 0.9375rem;
            margin-bottom: var(--space-4);
        }

        .phase-tools {
            font-size: 0.8rem;
            color: var(--slate-500);
            font-weight: 600;
        }

        /* ═══════════════════════════════════════════════════════════════
           POWER MAPPING (Actor Grid)
           ═══════════════════════════════════════════════════════════════ */
        
        .power-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 2px;
            background: var(--slate-300);
            border-radius: var(--radius-lg);
            overflow: hidden;
            aspect-ratio: 1;
            max-width: 600px;
            margin: var(--space-6) auto;
        }

        .power-quadrant {
            background: var(--white);
            padding: var(--space-4);
            min-height: 200px;
            position: relative;
        }

        .power-quadrant-label {
            position: absolute;
            top: var(--space-2);
            left: var(--space-2);
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            color: var(--slate-500);
        }

        .power-quadrant.high-power.high-interest { background: rgba(16, 185, 129, 0.1); }
        .power-quadrant.high-power.low-interest { background: rgba(245, 158, 11, 0.1); }
        .power-quadrant.low-power.high-interest { background: rgba(59, 130, 246, 0.1); }
        .power-quadrant.low-power.low-interest { background: rgba(148, 163, 184, 0.1); }

        .actor-chip {
            display: inline-flex;
            align-items: center;
            gap: var(--space-1);
            padding: var(--space-1) var(--space-2);
            background: var(--white);
            border: 1px solid var(--slate-300);
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            margin: var(--space-1);
            cursor: move;
            box-shadow: var(--shadow-sm);
        }

        .actor-chip.ally { border-color: var(--emerald-500); color: var(--emerald-500); }
        .actor-chip.target { border-color: var(--amber-500); color: var(--amber-500); }
        .actor-chip.opponent { border-color: var(--rose-500); color: var(--rose-500); }

        /* ═══════════════════════════════════════════════════════════════
           IMPORT/EXPORT MODAL
           ═══════════════════════════════════════════════════════════════ */
        
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(4px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: var(--space-4);
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--white);
            border-radius: var(--radius-xl);
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from { opacity: 0; transform: scale(0.95) translateY(10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .modal-header {
            padding: var(--space-6);
            border-bottom: 1px solid var(--slate-200);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 1.25rem;
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-md);
            border: none;
            background: var(--slate-100);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            color: var(--slate-500);
            transition: all var(--transition-fast);
        }

        .modal-close:hover {
            background: var(--slate-200);
            color: var(--navy-800);
        }

        .modal-body {
            padding: var(--space-6);
        }

        .modal-footer {
            padding: var(--space-4) var(--space-6);
            border-top: 1px solid var(--slate-200);
            display: flex;
            gap: var(--space-3);
            justify-content: flex-end;
        }

        /* Export Format Options */
        .format-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-3);
        }

        .format-option {
            border: 2px solid var(--slate-200);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            cursor: pointer;
            transition: all var(--transition-fast);
            text-align: center;
        }

        .format-option:hover {
            border-color: var(--gold-500);
            background: rgba(234, 179, 8, 0.05);
        }

        .format-option.selected {
            border-color: var(--gold-500);
            background: rgba(234, 179, 8, 0.1);
        }

        .format-icon {
            font-size: 2rem;
            margin-bottom: var(--space-2);
        }

        .format-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .format-ext {
            font-size: 0.75rem;
            color: var(--slate-500);
            font-family: var(--font-mono);
        }

        /* Drop Zone */
        .drop-zone {
            border: 2px dashed var(--slate-300);
            border-radius: var(--radius-lg);
            padding: var(--space-10);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .drop-zone:hover,
        .drop-zone.dragover {
            border-color: var(--gold-500);
            background: rgba(234, 179, 8, 0.05);
        }

        .drop-zone-icon {
            font-size: 3rem;
            margin-bottom: var(--space-4);
        }

        .drop-zone-text {
            color: var(--slate-600);
        }

        .drop-zone-hint {
            font-size: 0.8rem;
            color: var(--slate-500);
            margin-top: var(--space-2);
        }

        /* ═══════════════════════════════════════════════════════════════
           TOAST NOTIFICATIONS
           ═══════════════════════════════════════════════════════════════ */
        
        .toast-container {
            position: fixed;
            bottom: var(--space-6);
            right: var(--space-6);
            z-index: 3000;
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .toast {
            background: var(--navy-900);
            color: var(--white);
            padding: var(--space-4) var(--space-5);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: var(--space-3);
            animation: toastSlideIn 0.3s ease;
            min-width: 280px;
        }

        @keyframes toastSlideIn {
            from { opacity: 0; transform: translateX(100px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .toast.success { border-left: 4px solid var(--emerald-500); }
        .toast.error { border-left: 4px solid var(--rose-500); }
        .toast.info { border-left: 4px solid var(--sky-500); }

        /* ═══════════════════════════════════════════════════════════════
           DATA TABLE
           ═══════════════════════════════════════════════════════════════ */
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }

        .data-table th,
        .data-table td {
            padding: var(--space-3) var(--space-4);
            text-align: left;
            border-bottom: 1px solid var(--slate-200);
        }

        .data-table th {
            background: var(--slate-100);
            font-weight: 600;
            color: var(--navy-800);
            position: sticky;
            top: 0;
        }

        .data-table tr:hover td {
            background: var(--slate-50);
        }

        /* ═══════════════════════════════════════════════════════════════
           VEILLE MODULE
           ═══════════════════════════════════════════════════════════════ */
        
        .veille-item {
            display: flex;
            gap: var(--space-4);
            padding: var(--space-4);
            border-radius: var(--radius-md);
            background: var(--slate-50);
            margin-bottom: var(--space-3);
            border-left: 3px solid var(--slate-300);
        }

        .veille-item.politique { border-left-color: var(--rose-500); }
        .veille-item.social { border-left-color: var(--emerald-500); }
        .veille-item.economique { border-left-color: var(--amber-500); }
        .veille-item.environnement { border-left-color: var(--sky-500); }

        .veille-meta {
            flex-shrink: 0;
            text-align: center;
            width: 60px;
        }

        .veille-date {
            font-size: 0.7rem;
            color: var(--slate-500);
        }

        .veille-content {
            flex: 1;
        }

        .veille-title {
            font-weight: 600;
            margin-bottom: var(--space-1);
        }

        .veille-source {
            font-size: 0.8rem;
            color: var(--slate-500);
        }

        /* ═══════════════════════════════════════════════════════════════
           JOURNAL DE BORD
           ═══════════════════════════════════════════════════════════════ */
        
        .journal-entry {
            position: relative;
            padding-left: var(--space-6);
            margin-bottom: var(--space-4);
        }

        .journal-entry::before {
            content: '';
            position: absolute;
            left: 0;
            top: 8px;
            width: 10px;
            height: 10px;
            background: var(--gold-500);
            border-radius: 50%;
        }

        .journal-entry::after {
            content: '';
            position: absolute;
            left: 4px;
            top: 22px;
            bottom: -16px;
            width: 2px;
            background: var(--slate-200);
        }

        .journal-entry:last-child::after {
            display: none;
        }

        .journal-date {
            font-size: 0.75rem;
            color: var(--slate-500);
            margin-bottom: var(--space-1);
        }

        .journal-text {
            font-size: 0.9375rem;
        }

        /* ═══════════════════════════════════════════════════════════════
           DATASET VIEWER (Sécurité Sociale)
           ═══════════════════════════════════════════════════════════════ */
        
        .dataset-card {
            background: linear-gradient(135deg, var(--navy-800), var(--navy-900));
            color: var(--white);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
        }

        .dataset-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: var(--space-4);
        }

        .dataset-title {
            color: var(--gold-400);
            font-size: 1.25rem;
        }

        .dataset-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-4);
        }

        .dataset-stat {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-md);
            padding: var(--space-4);
            text-align: center;
        }

        .dataset-stat-value {
            font-family: var(--font-display);
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--gold-400);
        }

        .dataset-stat-label {
            font-size: 0.75rem;
            color: var(--slate-300);
            margin-top: var(--space-1);
        }

        /* ═══════════════════════════════════════════════════════════════
           CHECKLIST
           ═══════════════════════════════════════════════════════════════ */
        
        .checklist {
            list-style: none;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: var(--space-3);
            padding: var(--space-3) 0;
            border-bottom: 1px solid var(--slate-100);
            cursor: pointer;
        }

        .checklist-checkbox {
            width: 22px;
            height: 22px;
            border: 2px solid var(--slate-300);
            border-radius: var(--radius-sm);
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-fast);
        }

        .checklist-item.completed .checklist-checkbox {
            background: var(--emerald-500);
            border-color: var(--emerald-500);
            color: var(--white);
        }

        .checklist-item.completed .checklist-text {
            text-decoration: line-through;
            color: var(--slate-500);
        }

        /* ═══════════════════════════════════════════════════════════════
           MOBILE MENU TOGGLE
           ═══════════════════════════════════════════════════════════════ */
        
        .menu-toggle {
            display: none;
        }

        @media (max-width: 1024px) {
            .menu-toggle {
                display: flex;
            }
        }

        /* ═══════════════════════════════════════════════════════════════
           KEYBOARD SHORTCUTS HELP
           ═══════════════════════════════════════════════════════════════ */
        
        .kbd {
            display: inline-block;
            padding: 2px 6px;
            font-family: var(--font-mono);
            font-size: 0.75rem;
            background: var(--slate-100);
            border: 1px solid var(--slate-300);
            border-radius: var(--radius-sm);
            box-shadow: 0 1px 0 var(--slate-300);
        }

        /* ═══════════════════════════════════════════════════════════════
           PRINT STYLES
           ═══════════════════════════════════════════════════════════════ */
        
        @media print {
            .header, .sidebar, .modal-overlay, .toast-container {
                display: none !important;
            }
            
            .app-container {
                display: block;
            }
            
            .main {
                padding: 0;
            }
            
            .card {
                break-inside: avoid;
                box-shadow: none;
                border: 1px solid #ccc;
            }
        }
    </style>
</head>
<body>
    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="sr-only" style="position:absolute;left:-9999px;">Aller au contenu principal</a>

    <div class="app-container" role="application" aria-label="Plaidoyer Citoyen Workstation">
        
        <!-- ═══════════════════════════════════════════════════════════════
             HEADER
             ═══════════════════════════════════════════════════════════════ -->
        <header class="header" role="banner">
            <div class="logo">
                <button class="btn btn-ghost btn-icon menu-toggle" onclick="toggleSidebar()" aria-label="Menu">
                    ☰
                </button>
                <div class="logo-mark" aria-hidden="true">⚖</div>
                <div class="logo-text">
                    <span class="logo-title">Plaidoyer Citoyen</span>
                    <span class="logo-subtitle">Workstation v3.0</span>
                </div>
            </div>
            
            <div class="header-actions">
                <button class="btn btn-ghost" onclick="openModal('shortcuts-modal')" title="Raccourcis clavier">
                    ⌨️
                </button>
                <button class="btn btn-secondary" onclick="openModal('import-modal')">
                    📥 Importer
                </button>
                <button class="btn btn-secondary" onclick="openModal('export-modal')">
                    📤 Exporter
                </button>
                <button class="btn btn-primary" onclick="saveProject()">
                    💾 Sauvegarder
                </button>
            </div>
        </header>

        <!-- ═══════════════════════════════════════════════════════════════
             SIDEBAR NAVIGATION
             ═══════════════════════════════════════════════════════════════ -->
        <nav class="sidebar" role="navigation" aria-label="Navigation principale" id="sidebar">
            <div class="nav-section">
                <div class="nav-section-title">Accueil</div>
                <div class="nav-item active" data-section="home" onclick="switchSection('home')">
                    <span class="nav-icon">🏠</span>
                    <span>Tableau de bord</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Phase 1 — Voir</div>
                <div class="nav-item" data-section="voir-1" data-phase="voir" onclick="switchSection('voir-1')">
                    <span class="nav-icon">🎯</span>
                    <span>Domino du changement</span>
                </div>
                <div class="nav-item" data-section="voir-2" data-phase="voir" onclick="switchSection('voir-2')">
                    <span class="nav-icon">👤</span>
                    <span>Profil d'engagement</span>
                </div>
                <div class="nav-item" data-section="voir-3" data-phase="voir" onclick="switchSection('voir-3')">
                    <span class="nav-icon">🌸</span>
                    <span>Fleur de pouvoir</span>
                </div>
                <div class="nav-item" data-section="voir-4" data-phase="voir" onclick="switchSection('voir-4')">
                    <span class="nav-icon">🗺️</span>
                    <span>Cartographie acteurs</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Phase 2 — Juger</div>
                <div class="nav-item" data-section="juger-5" data-phase="juger" onclick="switchSection('juger-5')">
                    <span class="nav-icon">🔄</span>
                    <span>Théorie du changement</span>
                </div>
                <div class="nav-item" data-section="juger-6" data-phase="juger" onclick="switchSection('juger-6')">
                    <span class="nav-icon">📊</span>
                    <span>Analyse SWOT</span>
                </div>
                <div class="nav-item" data-section="juger-7" data-phase="juger" onclick="switchSection('juger-7')">
                    <span class="nav-icon">🌐</span>
                    <span>Analyse PESTEL</span>
                </div>
                <div class="nav-item" data-section="juger-8" data-phase="juger" onclick="switchSection('juger-8')">
                    <span class="nav-icon">🌳</span>
                    <span>Arbre à problème</span>
                </div>
                <div class="nav-item" data-section="juger-9" data-phase="juger" onclick="switchSection('juger-9')">
                    <span class="nav-icon">❓</span>
                    <span>Les 5 Pourquoi</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Phase 3 — Agir</div>
                <div class="nav-item" data-section="agir-10" data-phase="agir" onclick="switchSection('agir-10')">
                    <span class="nav-icon">⚡</span>
                    <span>Modes d'action</span>
                </div>
                <div class="nav-item" data-section="agir-11" data-phase="agir" onclick="switchSection('agir-11')">
                    <span class="nav-icon">🎯</span>
                    <span>Objectifs SMART</span>
                </div>
                <div class="nav-item" data-section="agir-12" data-phase="agir" onclick="switchSection('agir-12')">
                    <span class="nav-icon">🤝</span>
                    <span>Cibles & Alliances</span>
                </div>
                <div class="nav-item" data-section="agir-13" data-phase="agir" onclick="switchSection('agir-13')">
                    <span class="nav-icon">💬</span>
                    <span>Construction message</span>
                </div>
                <div class="nav-item" data-section="agir-14" data-phase="agir" onclick="switchSection('agir-14')">
                    <span class="nav-icon">✅</span>
                    <span>Check-list rencontre</span>
                </div>
                <div class="nav-item" data-section="agir-15" data-phase="agir" onclick="switchSection('agir-15')">
                    <span class="nav-icon">📈</span>
                    <span>Suivi & Évaluation</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Modules</div>
                <div class="nav-item" data-section="veille" onclick="switchSection('veille')">
                    <span class="nav-icon">📡</span>
                    <span>Veille citoyenne</span>
                    <span class="nav-badge new">NEW</span>
                </div>
                <div class="nav-item" data-section="datasets" onclick="switchSection('datasets')">
                    <span class="nav-icon">📊</span>
                    <span>Datasets</span>
                </div>
                <div class="nav-item" data-section="ressources" onclick="switchSection('ressources')">
                    <span class="nav-icon">📚</span>
                    <span>Ressources</span>
                </div>
            </div>

            <div class="sidebar-progress">
                <div class="progress-label">
                    <span>Progression globale</span>
                    <span id="global-progress-value">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="global-progress-fill" style="width: 0%;"></div>
                </div>
            </div>
        </nav>

        <!-- ═══════════════════════════════════════════════════════════════
             MAIN CONTENT
             ═══════════════════════════════════════════════════════════════ -->
        <main class="main" id="main-content" role="main">
            <div class="content-wrapper">
                
                <!-- HOME SECTION -->
                <section id="home" class="section active" aria-labelledby="home-title">
                    <div class="section-header">
                        <div class="section-eyebrow">Bienvenue</div>
                        <h1 class="section-title" id="home-title">Plaidoyer Citoyen Workstation</h1>
                        <p class="section-description">
                            Construisez votre stratégie de changement social avec 15 outils méthodologiques 
                            basés sur l'approche <strong>Voir-Juger-Agir</strong> de l'éducation populaire.
                        </p>
                    </div>

                    <div class="stats-grid">
                        <article class="stat-card" itemscope itemtype="https://schema.org/Observation">
                            <div class="stat-value" id="stat-progress" itemprop="value">0%</div>
                            <div class="stat-label" itemprop="name">Progression</div>
                        </article>
                        <article class="stat-card">
                            <div class="stat-value" id="stat-actors">0</div>
                            <div class="stat-label">Acteurs mappés</div>
                        </article>
                        <article class="stat-card">
                            <div class="stat-value" id="stat-veille">0</div>
                            <div class="stat-label">Veilles actives</div>
                        </article>
                        <article class="stat-card">
                            <div class="stat-value" id="stat-journal">0</div>
                            <div class="stat-label">Entrées journal</div>
                        </article>
                    </div>

                    <div class="phase-cards">
                        <article class="phase-card voir" onclick="switchSection('voir-1')" 
                                 itemscope itemtype="https://schema.org/HowToSection">
                            <div class="phase-icon">👁️</div>
                            <h2 class="phase-name" itemprop="name">VOIR</h2>
                            <p class="phase-desc" itemprop="description">
                                Posez des constats sur la société. Analysez le contexte et identifiez 
                                les acteurs clés de votre environnement.
                            </p>
                            <div class="phase-tools">4 outils • Outils 1-4</div>
                        </article>

                        <article class="phase-card juger" onclick="switchSection('juger-5')"
                                 itemscope itemtype="https://schema.org/HowToSection">
                            <div class="phase-icon">⚖️</div>
                            <h2 class="phase-name" itemprop="name">JUGER</h2>
                            <p class="phase-desc" itemprop="description">
                                Analysez en détail le contexte. Proposez une réflexion critique 
                                sur base des constats posés.
                            </p>
                            <div class="phase-tools">5 outils • Outils 5-9</div>
                        </article>

                        <article class="phase-card agir" onclick="switchSection('agir-10')"
                                 itemscope itemtype="https://schema.org/HowToSection">
                            <div class="phase-icon">🚀</div>
                            <h2 class="phase-name" itemprop="name">AGIR</h2>
                            <p class="phase-desc" itemprop="description">
                                Mettez en place des actions concrètes pour réaliser un plaidoyer 
                                vers un changement durable.
                            </p>
                            <div class="phase-tools">6 outils • Outils 10-15</div>
                        </article>
                    </div>

                    <!-- Dataset Preview -->
                    <div class="dataset-card" itemscope itemtype="https://schema.org/Dataset">
                        <div class="dataset-header">
                            <div>
                                <h3 class="dataset-title" itemprop="name">📊 Dataset : Sécurité Sociale Belge & Arizona</h3>
                                <p style="color: var(--slate-300); font-size: 0.875rem;" itemprop="description">
                                    Données clés sur les réformes et enjeux de la protection sociale
                                </p>
                            </div>
                            <button class="btn btn-secondary" onclick="switchSection('datasets')">
                                Explorer →
                            </button>
                        </div>
                        <div class="dataset-stats">
                            <div class="dataset-stat">
                                <div class="dataset-stat-value">52,6%</div>
                                <div class="dataset-stat-label">Coin fiscal (record OCDE)</div>
                            </div>
                            <div class="dataset-stat">
                                <div class="dataset-stat-value">72,3%</div>
                                <div class="dataset-stat-label">Taux d'emploi</div>
                            </div>
                            <div class="dataset-stat">
                                <div class="dataset-stat-value">52,7%</div>
                                <div class="dataset-stat-label">Réduction pauvreté</div>
                            </div>
                            <div class="dataset-stat">
                                <div class="dataset-stat-value">140K</div>
                                <div class="dataset-stat-label">Manifestants 14/10/25</div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="card">
                        <h3 class="card-title">🚀 Actions rapides</h3>
                        <div class="grid-4" style="margin-top: var(--space-4);">
                            <button class="btn btn-secondary" onclick="switchSection('agir-13')" style="width: 100%;">
                                💬 Créer un message
                            </button>
                            <button class="btn btn-secondary" onclick="switchSection('voir-4')" style="width: 100%;">
                                🗺️ Mapper les acteurs
                            </button>
                            <button class="btn btn-secondary" onclick="switchSection('veille')" style="width: 100%;">
                                📡 Ajouter une veille
                            </button>
                            <button class="btn btn-secondary" onclick="addJournalEntry()" style="width: 100%;">
                                📝 Noter au journal
                            </button>
                        </div>
                    </div>
                </section>

                <!-- VOIR-1: Domino du changement -->
                <section id="voir-1" class="section" aria-labelledby="voir-1-title">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase VOIR • Outil 1</div>
                        <h2 class="section-title" id="voir-1-title">🎯 Domino du Changement</h2>
                        <p class="section-description">
                            Identifiez votre vision du changement, vos valeurs et les transformations 
                            que vous souhaitez voir advenir dans la société.
                        </p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">
                                Ma vision
                                <span class="card-badge badge-voir">VOIR</span>
                            </h3>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="domino-pourquoi">Pourquoi je m'engage ?</label>
                            <textarea class="form-textarea" id="domino-pourquoi" data-field="domino_pourquoi"
                                placeholder="Qu'est-ce qui vous pousse à agir ? Quelle injustice ou quel problème vous révolte ?"></textarea>
                            <p class="form-hint">Réfléchissez à ce qui déclenche votre engagement.</p>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="domino-valeurs">Quelles sont mes valeurs ?</label>
                            <textarea class="form-textarea" id="domino-valeurs" data-field="domino_valeurs"
                                placeholder="Justice sociale, solidarité, démocratie, écologie, droits humains..."></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="domino-changements">Quels changements je veux voir ?</label>
                            <textarea class="form-textarea" id="domino-changements" data-field="domino_changements"
                                placeholder="Décrivez concrètement les transformations souhaitées..."></textarea>
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="card-title">💡 Conseil méthodologique</h3>
                        <p>
                            Le Domino du changement fonctionne comme une cascade : votre engagement personnel 
                            découle de vos valeurs, qui guident votre vision du changement. Prenez le temps 
                            de clarifier chaque niveau avant de passer au suivant.
                        </p>
                    </div>
                </section>

                <!-- VOIR-4: Cartographie des acteurs -->
                <section id="voir-4" class="section" aria-labelledby="voir-4-title">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase VOIR • Outil 4</div>
                        <h2 class="section-title" id="voir-4-title">🗺️ Cartographie des Acteurs</h2>
                        <p class="section-description">
                            Mappez les parties prenantes selon leur pouvoir et leur intérêt pour votre cause. 
                            Identifiez alliés, cibles et opposants.
                        </p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Ajouter un acteur</h3>
                        </div>
                        
                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label" for="actor-name">Nom de l'acteur</label>
                                <input type="text" class="form-input" id="actor-name" 
                                       placeholder="Ex: Ministre de l'Emploi, Syndicat CSC...">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="actor-type">Type</label>
                                <select class="form-select" id="actor-type">
                                    <option value="ally">🟢 Allié</option>
                                    <option value="target">🟡 Cible</option>
                                    <option value="opponent">🔴 Opposant</option>
                                    <option value="neutral">⚪ Neutre</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label" for="actor-power">Niveau de pouvoir (1-10)</label>
                                <input type="range" id="actor-power" min="1" max="10" value="5" 
                                       style="width: 100%;">
                                <div style="display: flex; justify-content: space-between; font-size: 0.75rem; color: var(--slate-500);">
                                    <span>Faible</span>
                                    <span>Élevé</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="actor-interest">Niveau d'intérêt (1-10)</label>
                                <input type="range" id="actor-interest" min="1" max="10" value="5"
                                       style="width: 100%;">
                                <div style="display: flex; justify-content: space-between; font-size: 0.75rem; color: var(--slate-500);">
                                    <span>Faible</span>
                                    <span>Élevé</span>
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary" onclick="addActor()">
                            ➕ Ajouter l'acteur
                        </button>
                    </div>

                    <div class="card">
                        <h3 class="card-title">Matrice Pouvoir / Intérêt</h3>
                        <div class="power-grid">
                            <div class="power-quadrant high-power high-interest" id="quadrant-manage">
                                <span class="power-quadrant-label">Gérer de près</span>
                                <div id="actors-manage"></div>
                            </div>
                            <div class="power-quadrant high-power low-interest" id="quadrant-satisfy">
                                <span class="power-quadrant-label">Garder satisfait</span>
                                <div id="actors-satisfy"></div>
                            </div>
                            <div class="power-quadrant low-power high-interest" id="quadrant-inform">
                                <span class="power-quadrant-label">Garder informé</span>
                                <div id="actors-inform"></div>
                            </div>
                            <div class="power-quadrant low-power low-interest" id="quadrant-monitor">
                                <span class="power-quadrant-label">Surveiller</span>
                                <div id="actors-monitor"></div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- JUGER-6: SWOT -->
                <section id="juger-6" class="section" aria-labelledby="juger-6-title">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase JUGER • Outil 6</div>
                        <h2 class="section-title" id="juger-6-title">📊 Analyse SWOT</h2>
                        <p class="section-description">
                            Évaluez les Forces, Faiblesses, Opportunités et Menaces de votre stratégie 
                            de plaidoyer.
                        </p>
                    </div>

                    <div class="grid-2">
                        <div class="card" style="border-left: 4px solid var(--emerald-500);">
                            <h3 class="card-title">💪 Forces (internes)</h3>
                            <textarea class="form-textarea" data-field="swot_forces"
                                placeholder="Vos atouts, compétences, ressources, réseau..."></textarea>
                        </div>
                        <div class="card" style="border-left: 4px solid var(--rose-500);">
                            <h3 class="card-title">⚠️ Faiblesses (internes)</h3>
                            <textarea class="form-textarea" data-field="swot_faiblesses"
                                placeholder="Vos limites, manques, points à améliorer..."></textarea>
                        </div>
                        <div class="card" style="border-left: 4px solid var(--sky-500);">
                            <h3 class="card-title">🌟 Opportunités (externes)</h3>
                            <textarea class="form-textarea" data-field="swot_opportunites"
                                placeholder="Contexte favorable, alliés potentiels, événements..."></textarea>
                        </div>
                        <div class="card" style="border-left: 4px solid var(--amber-500);">
                            <h3 class="card-title">🌩️ Menaces (externes)</h3>
                            <textarea class="form-textarea" data-field="swot_menaces"
                                placeholder="Risques, oppositions, obstacles..."></textarea>
                        </div>
                    </div>
                </section>

                <!-- AGIR-13: Construction du message -->
                <section id="agir-13" class="section" aria-labelledby="agir-13-title">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR • Outil 13</div>
                        <h2 class="section-title" id="agir-13-title">💬 Construction du Message</h2>
                        <p class="section-description">
                            Formulez votre argumentaire de plaidoyer en 5 composantes : 
                            accroche, problème, importance, cible et action demandée.
                        </p>
                    </div>

                    <div class="card">
                        <div class="form-group">
                            <label class="form-label" for="msg-accroche">1. Accroche</label>
                            <textarea class="form-textarea" id="msg-accroche" data-field="msg_accroche"
                                placeholder="Une phrase choc qui capte l'attention..."
                                style="min-height: 80px;"></textarea>
                            <p class="form-hint">Interpellez votre interlocuteur dès la première phrase.</p>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="msg-probleme">2. Problème</label>
                            <textarea class="form-textarea" id="msg-probleme" data-field="msg_probleme"
                                placeholder="Décrivez le problème de manière claire et factuelle..."></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="msg-importance">3. Pourquoi c'est important</label>
                            <textarea class="form-textarea" id="msg-importance" data-field="msg_importance"
                                placeholder="Expliquez les enjeux et conséquences..."></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="msg-cible">4. Cible</label>
                            <input type="text" class="form-input" id="msg-cible" data-field="msg_cible"
                                placeholder="À qui adressez-vous ce message ? (ex: Ministre, député, maire...)">
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="msg-action">5. Action demandée</label>
                            <textarea class="form-textarea" id="msg-action" data-field="msg_action"
                                placeholder="Que demandez-vous concrètement ?"
                                style="min-height: 80px;"></textarea>
                        </div>

                        <button class="btn btn-primary" onclick="generateMessage()">
                            ✨ Générer le message complet
                        </button>

                        <div id="generated-message" style="display: none; margin-top: var(--space-6);">
                            <h4 style="margin-bottom: var(--space-3);">📝 Votre message de plaidoyer</h4>
                            <div id="message-preview" style="background: var(--slate-100); padding: var(--space-4); border-radius: var(--radius-md); white-space: pre-wrap; font-family: var(--font-body);"></div>
                            <div style="margin-top: var(--space-4); display: flex; gap: var(--space-3);">
                                <button class="btn btn-secondary" onclick="copyMessage()">📋 Copier</button>
                                <button class="btn btn-secondary" onclick="exportMessage()">📤 Exporter</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- VEILLE CITOYENNE -->
                <section id="veille" class="section" aria-labelledby="veille-title">
                    <div class="section-header">
                        <div class="section-eyebrow">Module</div>
                        <h2 class="section-title" id="veille-title">📡 Veille Citoyenne</h2>
                        <p class="section-description">
                            Suivez l'actualité et documentez les événements pertinents pour votre plaidoyer.
                        </p>
                    </div>

                    <div class="card">
                        <h3 class="card-title">Ajouter une veille</h3>
                        
                        <div class="grid-2">
                            <div class="form-group">
                                <label class="form-label" for="veille-title-input">Titre</label>
                                <input type="text" class="form-input" id="veille-title-input"
                                       placeholder="Titre de l'information...">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="veille-category">Catégorie</label>
                                <select class="form-select" id="veille-category">
                                    <option value="politique">🏛️ Politique</option>
                                    <option value="social">🤝 Social</option>
                                    <option value="economique">💰 Économique</option>
                                    <option value="environnement">🌿 Environnement</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="veille-content">Contenu / Résumé</label>
                            <textarea class="form-textarea" id="veille-content"
                                placeholder="Décrivez l'information et son importance pour votre plaidoyer..."></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="veille-source">Source (URL)</label>
                            <input type="url" class="form-input" id="veille-source"
                                   placeholder="https://...">
                        </div>

                        <button class="btn btn-primary" onclick="addVeille()">
                            ➕ Ajouter à la veille
                        </button>
                    </div>

                    <div class="card">
                        <h3 class="card-title">📋 Fil de veille</h3>
                        <div id="veille-list">
                            <p style="color: var(--slate-500); text-align: center; padding: var(--space-6);">
                                Aucune veille enregistrée. Ajoutez votre première information !
                            </p>
                        </div>
                    </div>
                </section>

                <!-- DATASETS -->
                <section id="datasets" class="section" aria-labelledby="datasets-title">
                    <div class="section-header">
                        <div class="section-eyebrow">Module</div>
                        <h2 class="section-title" id="datasets-title">📊 Datasets & Données</h2>
                        <p class="section-description">
                            Accédez aux données structurées pour alimenter votre plaidoyer avec des faits vérifiables.
                        </p>
                    </div>

                    <div class="dataset-card">
                        <div class="dataset-header">
                            <div>
                                <h3 class="dataset-title">🇧🇪 Sécurité Sociale Belge — Défis & Réformes Arizona</h3>
                                <p style="color: var(--slate-300); font-size: 0.875rem;">
                                    Données clés sur le modèle social belge et les réformes en cours (2024-2026)
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="card-title">📈 Indicateurs clés</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Indicateur</th>
                                    <th>Valeur</th>
                                    <th>Comparaison</th>
                                    <th>Source</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Coin fiscal</td>
                                    <td><strong>52,6%</strong></td>
                                    <td>🥇 Record OCDE (moy. 34,9%)</td>
                                    <td>OCDE 2024</td>
                                </tr>
                                <tr>
                                    <td>Taux d'emploi (20-64 ans)</td>
                                    <td><strong>72,3%</strong></td>
                                    <td>-3,5 pts vs UE (75,8%)</td>
                                    <td>Eurostat 2024</td>
                                </tr>
                                <tr>
                                    <td>Réduction pauvreté par transferts</td>
                                    <td><strong>52,7%</strong></td>
                                    <td>+15 pts vs moy. UE</td>
                                    <td>EU-SILC</td>
                                </tr>
                                <tr>
                                    <td>Coefficient de Gini</td>
                                    <td><strong>25-26</strong></td>
                                    <td>Parmi les plus bas UE (moy. 29,6)</td>
                                    <td>Eurostat</td>
                                </tr>
                                <tr>
                                    <td>Dette publique</td>
                                    <td><strong>105,2% PIB</strong> (2023)</td>
                                    <td>→ 119% PIB en 2029</td>
                                    <td>SPF BOSA</td>
                                </tr>
                                <tr>
                                    <td>Déficit Sécu. Sociale</td>
                                    <td><strong>18,2 Md€</strong> (2024)</td>
                                    <td>→ 24,1 Md€ en 2028</td>
                                    <td>Cour des Comptes</td>
                                </tr>
                                <tr>
                                    <td>Coût du vieillissement</td>
                                    <td><strong>+1,7 pt PIB</strong></td>
                                    <td>Entre 2024 et 2070</td>
                                    <td>CEV 2025</td>
                                </tr>
                                <tr>
                                    <td>Manifestation 14/10/2025</td>
                                    <td><strong>140 000</strong></td>
                                    <td>Plus grande du XXIe siècle</td>
                                    <td>Police fédérale</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="card">
                        <h3 class="card-title">📋 Réformes Arizona (2025)</h3>
                        <ul class="checklist">
                            <li class="checklist-item">
                                <span class="checklist-checkbox">•</span>
                                <span class="checklist-text">Limitation du chômage à 24 mois maximum (mars 2026)</span>
                            </li>
                            <li class="checklist-item">
                                <span class="checklist-checkbox">•</span>
                                <span class="checklist-text">Système bonus-malus pension (±2-5%)</span>
                            </li>
                            <li class="checklist-item">
                                <span class="checklist-checkbox">•</span>
                                <span class="checklist-text">Plafonnement périodes assimilées à 40% puis 20%</span>
                            </li>
                            <li class="checklist-item">
                                <span class="checklist-checkbox">•</span>
                                <span class="checklist-text">Quasi-abolition des prépensions (RCC/SWT)</span>
                            </li>
                        </ul>
                    </div>
                </section>

                <!-- RESSOURCES -->
                <section id="ressources" class="section" aria-labelledby="ressources-title">
                    <div class="section-header">
                        <div class="section-eyebrow">Module</div>
                        <h2 class="section-title" id="ressources-title">📚 Ressources</h2>
                        <p class="section-description">
                            Documentation, guides et liens utiles pour approfondir votre pratique du plaidoyer.
                        </p>
                    </div>

                    <div class="grid-2">
                        <div class="card">
                            <h3 class="card-title">📖 Guides méthodologiques</h3>
                            <ul style="list-style: none; margin-top: var(--space-4);">
                                <li style="margin-bottom: var(--space-3);">
                                    <a href="https://www.justicepaix.be" target="_blank" rel="noopener">
                                        🔗 Justice et Paix — Petit Guide du Plaidoyer Citoyen
                                    </a>
                                </li>
                                <li style="margin-bottom: var(--space-3);">
                                    <a href="https://www.voxpublic.org" target="_blank" rel="noopener">
                                        🔗 VoxPublic — Bibliothèque de plaidoyer
                                    </a>
                                </li>
                                <li style="margin-bottom: var(--space-3);">
                                    <a href="https://bond.org.uk/resources/advocacy-toolkit/" target="_blank" rel="noopener">
                                        🔗 BOND UK — Advocacy Toolkit
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3 class="card-title">🏛️ Institutions belges</h3>
                            <ul style="list-style: none; margin-top: var(--space-4);">
                                <li style="margin-bottom: var(--space-3);">
                                    <a href="https://www.belgium.be/fr/la_belgique/pouvoirs_publics" target="_blank" rel="noopener">
                                        🔗 Belgium.be — Structure des pouvoirs publics
                                    </a>
                                </li>
                                <li style="margin-bottom: var(--space-3);">
                                    <a href="https://www.lachambre.be" target="_blank" rel="noopener">
                                        🔗 Chambre des Représentants
                                    </a>
                                </li>
                                <li style="margin-bottom: var(--space-3);">
                                    <a href="https://www.senate.be" target="_blank" rel="noopener">
                                        🔗 Sénat de Belgique
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Placeholder sections for other tools -->
                <section id="voir-2" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase VOIR • Outil 2</div>
                        <h2 class="section-title">👤 Profil d'Engagement</h2>
                        <p class="section-description">Découvrez votre type de militant·e et adaptez votre engagement.</p>
                    </div>
                    <div class="card">
                        <p>Contenu de l'outil en cours de développement...</p>
                    </div>
                </section>

                <section id="voir-3" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase VOIR • Outil 3</div>
                        <h2 class="section-title">🌸 Fleur de Pouvoir</h2>
                        <p class="section-description">Analysez vos privilèges et identités pour mieux comprendre votre position.</p>
                    </div>
                    <div class="card">
                        <p>Contenu de l'outil en cours de développement...</p>
                    </div>
                </section>

                <section id="juger-5" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase JUGER • Outil 5</div>
                        <h2 class="section-title">🔄 Théorie du Changement</h2>
                        <p class="section-description">Définissez votre vision systémique du changement.</p>
                    </div>
                    <div class="card">
                        <p>Contenu de l'outil en cours de développement...</p>
                    </div>
                </section>

                <section id="juger-7" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase JUGER • Outil 7</div>
                        <h2 class="section-title">🌐 Analyse PESTEL</h2>
                        <p class="section-description">Comprenez l'environnement Politique, Économique, Social, Technologique, Environnemental et Légal.</p>
                    </div>
                    <div class="card">
                        <p>Contenu de l'outil en cours de développement...</p>
                    </div>
                </section>

                <section id="juger-8" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase JUGER • Outil 8</div>
                        <h2 class="section-title">🌳 Arbre à Problème</h2>
                        <p class="section-description">Identifiez les causes et conséquences de votre problématique.</p>
                    </div>
                    <div class="card">
                        <p>Contenu de l'outil en cours de développement...</p>
                    </div>
                </section>

                <section id="juger-9" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase JUGER • Outil 9</div>
                        <h2 class="section-title">❓ Les 5 Pourquoi</h2>
                        <p class="section-description">Remontez aux causes racines de votre problème.</p>
                    </div>
                    <div class="card">
                        <p>Contenu de l'outil en cours de développement...</p>
                    </div>
                </section>

                <section id="agir-10" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR • Outil 10</div>
                        <h2 class="section-title">⚡ Modes d'Action</h2>
                        <p class="section-description">Choisissez votre posture : avec, sans ou contre le pouvoir.</p>
                    </div>
                    <div class="card">
                        <p>Contenu de l'outil en cours de développement...</p>
                    </div>
                </section>

                <section id="agir-11" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR • Outil 11</div>
                        <h2 class="section-title">🎯 Objectifs SMART</h2>
                        <p class="section-description">Définissez des objectifs Spécifiques, Mesurables, Atteignables, Réalistes et Temporels.</p>
                    </div>
                    <div class="card">
                        <p>Contenu de l'outil en cours de développement...</p>
                    </div>
                </section>

                <section id="agir-12" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR • Outil 12</div>
                        <h2 class="section-title">🤝 Cibles & Alliances</h2>
                        <p class="section-description">Identifiez qui convaincre et avec qui vous allier.</p>
                    </div>
                    <div class="card">
                        <p>Contenu de l'outil en cours de développement...</p>
                    </div>
                </section>

                <section id="agir-14" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR • Outil 14</div>
                        <h2 class="section-title">✅ Check-list Rencontre</h2>
                        <p class="section-description">Préparez vos rendez-vous de plaidoyer.</p>
                    </div>
                    <div class="card">
                        <p>Contenu de l'outil en cours de développement...</p>
                    </div>
                </section>

                <section id="agir-15" class="section">
                    <div class="section-header">
                        <div class="section-eyebrow">Phase AGIR • Outil 15</div>
                        <h2 class="section-title">📈 Suivi & Évaluation</h2>
                        <p class="section-description">Mesurez votre impact et ajustez votre stratégie.</p>
                    </div>
                    <div class="card">
                        <h3 class="card-title">📅 Journal de bord</h3>
                        <div class="form-group">
                            <label class="form-label" for="journal-entry">Nouvelle entrée</label>
                            <textarea class="form-textarea" id="journal-entry"
                                placeholder="Notez vos actions, rencontres, apprentissages..."></textarea>
                        </div>
                        <button class="btn btn-primary" onclick="addJournalEntry()">
                            ➕ Ajouter au journal
                        </button>
                        <div id="journal-list" style="margin-top: var(--space-6);"></div>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <!-- ═══════════════════════════════════════════════════════════════
         MODALS
         ═══════════════════════════════════════════════════════════════ -->
    
    <!-- Import Modal -->
    <div class="modal-overlay" id="import-modal">
        <div class="modal" role="dialog" aria-labelledby="import-title">
            <div class="modal-header">
                <h3 class="modal-title" id="import-title">📥 Importer un projet</h3>
                <button class="modal-close" onclick="closeModal('import-modal')" aria-label="Fermer">×</button>
            </div>
            <div class="modal-body">
                <div class="drop-zone" id="drop-zone"
                     ondrop="handleFileDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                    <div class="drop-zone-icon">📁</div>
                    <div class="drop-zone-text">Glissez-déposez votre fichier ici</div>
                    <div class="drop-zone-hint">ou cliquez pour sélectionner</div>
                    <input type="file" id="file-input" accept=".json,.md,.csv,.html,.txt" 
                           style="display: none;" onchange="handleFileSelect(event)">
                </div>
                <p style="text-align: center; margin-top: var(--space-4); color: var(--slate-500); font-size: 0.875rem;">
                    Formats supportés : JSON, Markdown, CSV, HTML, TXT
                </p>
            </div>
        </div>
    </div>

    <!-- Export Modal -->
    <div class="modal-overlay" id="export-modal">
        <div class="modal" role="dialog" aria-labelledby="export-title">
            <div class="modal-header">
                <h3 class="modal-title" id="export-title">📤 Exporter le projet</h3>
                <button class="modal-close" onclick="closeModal('export-modal')" aria-label="Fermer">×</button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: var(--space-4);">Choisissez le format d'export :</p>
                <div class="format-options">
                    <div class="format-option" data-format="json" onclick="selectFormat('json')">
                        <div class="format-icon">📋</div>
                        <div class="format-name">JSON</div>
                        <div class="format-ext">.json</div>
                    </div>
                    <div class="format-option" data-format="md" onclick="selectFormat('md')">
                        <div class="format-icon">📝</div>
                        <div class="format-name">Markdown</div>
                        <div class="format-ext">.md</div>
                    </div>
                    <div class="format-option" data-format="html" onclick="selectFormat('html')">
                        <div class="format-icon">🌐</div>
                        <div class="format-name">HTML</div>
                        <div class="format-ext">.html</div>
                    </div>
                    <div class="format-option" data-format="csv" onclick="selectFormat('csv')">
                        <div class="format-icon">📊</div>
                        <div class="format-name">CSV</div>
                        <div class="format-ext">.csv</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeModal('export-modal')">Annuler</button>
                <button class="btn btn-primary" onclick="exportProject()">Exporter</button>
            </div>
        </div>
    </div>

    <!-- Shortcuts Modal -->
    <div class="modal-overlay" id="shortcuts-modal">
        <div class="modal" role="dialog" aria-labelledby="shortcuts-title">
            <div class="modal-header">
                <h3 class="modal-title" id="shortcuts-title">⌨️ Raccourcis clavier</h3>
                <button class="modal-close" onclick="closeModal('shortcuts-modal')" aria-label="Fermer">×</button>
            </div>
            <div class="modal-body">
                <table class="data-table">
                    <tbody>
                        <tr><td><kbd class="kbd">Ctrl</kbd> + <kbd class="kbd">S</kbd></td><td>Sauvegarder le projet</td></tr>
                        <tr><td><kbd class="kbd">Ctrl</kbd> + <kbd class="kbd">E</kbd></td><td>Exporter</td></tr>
                        <tr><td><kbd class="kbd">Ctrl</kbd> + <kbd class="kbd">I</kbd></td><td>Importer</td></tr>
                        <tr><td><kbd class="kbd">Ctrl</kbd> + <kbd class="kbd">1</kbd></td><td>Aller à VOIR</td></tr>
                        <tr><td><kbd class="kbd">Ctrl</kbd> + <kbd class="kbd">2</kbd></td><td>Aller à JUGER</td></tr>
                        <tr><td><kbd class="kbd">Ctrl</kbd> + <kbd class="kbd">3</kbd></td><td>Aller à AGIR</td></tr>
                        <tr><td><kbd class="kbd">Esc</kbd></td><td>Fermer les modals</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container" role="alert" aria-live="polite"></div>

    <!-- ═══════════════════════════════════════════════════════════════
         JAVASCRIPT
         ═══════════════════════════════════════════════════════════════ -->
    <script>
        // ══════════════════════════════════════════════════════════════
        // DATA MODEL
        // ══════════════════════════════════════════════════════════════
        
        let projectData = {
            meta: {
                version: '3.0',
                created: new Date().toISOString(),
                updated: new Date().toISOString(),
                title: 'Mon Plaidoyer Citoyen'
            },
            fields: {},
            actors: [],
            veille: [],
            journal: [],
            checks: {}
        };

        let selectedExportFormat = 'json';

        // ══════════════════════════════════════════════════════════════
        // INITIALIZATION
        // ══════════════════════════════════════════════════════════════
        
        document.addEventListener('DOMContentLoaded', () => {
            loadProject();
            setupAutoSave();
            setupKeyboardShortcuts();
            updateDashboard();
        });

        function setupAutoSave() {
            document.querySelectorAll('[data-field]').forEach(el => {
                el.addEventListener('input', debounce((e) => {
                    projectData.fields[e.target.dataset.field] = e.target.value;
                    projectData.meta.updated = new Date().toISOString();
                    saveProject(false);
                    updateDashboard();
                }, 500));
            });
        }

        function setupKeyboardShortcuts() {
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey || e.metaKey) {
                    switch(e.key.toLowerCase()) {
                        case 's':
                            e.preventDefault();
                            saveProject(true);
                            break;
                        case 'e':
                            e.preventDefault();
                            openModal('export-modal');
                            break;
                        case 'i':
                            e.preventDefault();
                            openModal('import-modal');
                            break;
                        case '1':
                            e.preventDefault();
                            switchSection('voir-1');
                            break;
                        case '2':
                            e.preventDefault();
                            switchSection('juger-5');
                            break;
                        case '3':
                            e.preventDefault();
                            switchSection('agir-10');
                            break;
                    }
                }
                if (e.key === 'Escape') {
                    closeAllModals();
                }
            });
        }

        // ══════════════════════════════════════════════════════════════
        // NAVIGATION
        // ══════════════════════════════════════════════════════════════
        
        function switchSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            // Show target section
            const target = document.getElementById(sectionId);
            if (target) target.classList.add('active');
            
            // Update nav
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.section === sectionId) {
                    item.classList.add('active');
                }
            });

            // Close mobile sidebar
            document.getElementById('sidebar').classList.remove('open');

            // Scroll to top
            document.querySelector('.main').scrollTop = 0;
        }

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        // ══════════════════════════════════════════════════════════════
        // MODALS
        // ══════════════════════════════════════════════════════════════
        
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function closeAllModals() {
            document.querySelectorAll('.modal-overlay').forEach(m => m.classList.remove('active'));
        }

        // Click outside to close
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    overlay.classList.remove('active');
                }
            });
        });

        // ══════════════════════════════════════════════════════════════
        // ACTORS (Power Mapping)
        // ══════════════════════════════════════════════════════════════
        
        function addActor() {
            const name = document.getElementById('actor-name').value.trim();
            if (!name) {
                showToast('Veuillez entrer un nom', 'error');
                return;
            }

            const actor = {
                id: Date.now(),
                name: name,
                type: document.getElementById('actor-type').value,
                power: parseInt(document.getElementById('actor-power').value),
                interest: parseInt(document.getElementById('actor-interest').value)
            };

            projectData.actors.push(actor);
            renderActor(actor);
            saveProject(false);
            updateDashboard();

            // Reset form
            document.getElementById('actor-name').value = '';
            showToast('Acteur ajouté !', 'success');
        }

        function renderActor(actor) {
            const quadrant = getQuadrant(actor.power, actor.interest);
            const container = document.getElementById(`actors-${quadrant}`);
            
            const chip = document.createElement('span');
            chip.className = `actor-chip ${actor.type}`;
            chip.textContent = actor.name;
            chip.title = `Pouvoir: ${actor.power}/10, Intérêt: ${actor.interest}/10`;
            chip.onclick = () => removeActor(actor.id, chip);
            
            container.appendChild(chip);
        }

        function getQuadrant(power, interest) {
            if (power > 5 && interest > 5) return 'manage';
            if (power > 5 && interest <= 5) return 'satisfy';
            if (power <= 5 && interest > 5) return 'inform';
            return 'monitor';
        }

        function removeActor(id, element) {
            if (confirm('Supprimer cet acteur ?')) {
                projectData.actors = projectData.actors.filter(a => a.id !== id);
                element.remove();
                saveProject(false);
                updateDashboard();
            }
        }

        // ══════════════════════════════════════════════════════════════
        // VEILLE
        // ══════════════════════════════════════════════════════════════
        
        function addVeille() {
            const title = document.getElementById('veille-title-input').value.trim();
            if (!title) {
                showToast('Veuillez entrer un titre', 'error');
                return;
            }

            const veille = {
                id: Date.now(),
                title: title,
                category: document.getElementById('veille-category').value,
                content: document.getElementById('veille-content').value,
                source: document.getElementById('veille-source').value,
                date: new Date().toISOString()
            };

            projectData.veille.unshift(veille);
            renderVeille(veille);
            saveProject(false);
            updateDashboard();

            // Reset form
            document.getElementById('veille-title-input').value = '';
            document.getElementById('veille-content').value = '';
            document.getElementById('veille-source').value = '';
            showToast('Veille ajoutée !', 'success');
        }

        function renderVeille(item) {
            const container = document.getElementById('veille-list');
            if (container.querySelector('p')) container.innerHTML = '';

            const date = new Date(item.date);
            const el = document.createElement('article');
            el.className = `veille-item ${item.category}`;
            el.innerHTML = `
                <div class="veille-meta">
                    <div class="veille-date">${date.toLocaleDateString('fr-BE', { day: 'numeric', month: 'short' })}</div>
                </div>
                <div class="veille-content">
                    <div class="veille-title">${item.title}</div>
                    ${item.content ? `<p style="font-size: 0.875rem; color: var(--slate-600); margin: var(--space-2) 0;">${item.content}</p>` : ''}
                    ${item.source ? `<div class="veille-source"><a href="${item.source}" target="_blank" rel="noopener">🔗 Source</a></div>` : ''}
                </div>
            `;
            container.prepend(el);
        }

        // ══════════════════════════════════════════════════════════════
        // JOURNAL
        // ══════════════════════════════════════════════════════════════
        
        function addJournalEntry() {
            const textarea = document.getElementById('journal-entry');
            const text = textarea ? textarea.value.trim() : '';
            
            if (!text) {
                // Prompt for text if not provided
                const input = prompt('Votre entrée de journal :');
                if (!input) return;
                addJournalEntryWithText(input);
            } else {
                addJournalEntryWithText(text);
                textarea.value = '';
            }
        }

        function addJournalEntryWithText(text) {
            const entry = {
                id: Date.now(),
                text: text,
                date: new Date().toISOString()
            };

            projectData.journal.unshift(entry);
            renderJournalEntry(entry);
            saveProject(false);
            updateDashboard();
            showToast('Entrée ajoutée au journal !', 'success');
        }

        function renderJournalEntry(entry) {
            const container = document.getElementById('journal-list');
            if (!container) return;

            const date = new Date(entry.date);
            const el = document.createElement('div');
            el.className = 'journal-entry';
            el.innerHTML = `
                <div class="journal-date">${date.toLocaleDateString('fr-BE', { weekday: 'long', day: 'numeric', month: 'long', hour: '2-digit', minute: '2-digit' })}</div>
                <div class="journal-text">${entry.text}</div>
            `;
            container.prepend(el);
        }

        // ══════════════════════════════════════════════════════════════
        // MESSAGE GENERATOR
        // ══════════════════════════════════════════════════════════════
        
        function generateMessage() {
            const f = projectData.fields;
            const message = `${f.msg_accroche || '[Accroche]'}

${f.msg_probleme || '[Problème]'}

Pourquoi c'est important : ${f.msg_importance || '[Importance]'}

Nous demandons à ${f.msg_cible || '[Cible]'} de ${f.msg_action || '[Action demandée]'}.`;

            document.getElementById('message-preview').textContent = message;
            document.getElementById('generated-message').style.display = 'block';
        }

        function copyMessage() {
            const text = document.getElementById('message-preview').textContent;
            navigator.clipboard.writeText(text).then(() => {
                showToast('Message copié !', 'success');
            });
        }

        function exportMessage() {
            const text = document.getElementById('message-preview').textContent;
            downloadFile(text, 'message-plaidoyer.txt', 'text/plain');
        }

        // ══════════════════════════════════════════════════════════════
        // DASHBOARD
        // ══════════════════════════════════════════════════════════════
        
        function updateDashboard() {
            const filledFields = Object.values(projectData.fields).filter(v => v && v.trim()).length;
            const totalFields = 30; // Approximate total fields
            const progress = Math.min(100, Math.round((filledFields / totalFields) * 100));

            document.getElementById('stat-progress').textContent = progress + '%';
            document.getElementById('stat-actors').textContent = projectData.actors.length;
            document.getElementById('stat-veille').textContent = projectData.veille.length;
            document.getElementById('stat-journal').textContent = projectData.journal.length;

            document.getElementById('global-progress-value').textContent = progress + '%';
            document.getElementById('global-progress-fill').style.width = progress + '%';
        }

        // ══════════════════════════════════════════════════════════════
        // SAVE / LOAD
        // ══════════════════════════════════════════════════════════════
        
        function saveProject(notify = true) {
            projectData.meta.updated = new Date().toISOString();
            localStorage.setItem('plaidoyer_workstation_v3', JSON.stringify(projectData));
            if (notify) showToast('Projet sauvegardé !', 'success');
        }

        function loadProject() {
            const saved = localStorage.getItem('plaidoyer_workstation_v3');
            if (saved) {
                try {
                    projectData = JSON.parse(saved);
                    
                    // Restore fields
                    Object.entries(projectData.fields).forEach(([key, value]) => {
                        const el = document.querySelector(`[data-field="${key}"]`);
                        if (el) el.value = value;
                    });

                    // Restore actors
                    projectData.actors.forEach(actor => renderActor(actor));

                    // Restore veille
                    projectData.veille.forEach(item => renderVeille(item));

                    // Restore journal
                    projectData.journal.forEach(entry => renderJournalEntry(entry));

                } catch (e) {
                    console.error('Error loading project:', e);
                }
            }
        }

        // ══════════════════════════════════════════════════════════════
        // IMPORT / EXPORT
        // ══════════════════════════════════════════════════════════════
        
        function selectFormat(format) {
            selectedExportFormat = format;
            document.querySelectorAll('.format-option').forEach(opt => {
                opt.classList.toggle('selected', opt.dataset.format === format);
            });
        }

        function exportProject() {
            const filename = `plaidoyer_${new Date().toISOString().slice(0, 10)}`;
            let content, type;

            switch (selectedExportFormat) {
                case 'json':
                    content = JSON.stringify(projectData, null, 2);
                    type = 'application/json';
                    break;

                case 'md':
                    content = generateMarkdown();
                    type = 'text/markdown';
                    break;

                case 'html':
                    content = generateHTML();
                    type = 'text/html';
                    break;

                case 'csv':
                    content = generateCSV();
                    type = 'text/csv';
                    break;
            }

            downloadFile(content, `${filename}.${selectedExportFormat}`, type);
            closeModal('export-modal');
            showToast(`Export ${selectedExportFormat.toUpperCase()} réussi !`, 'success');
        }

        function generateMarkdown() {
            let md = `# Projet de Plaidoyer Citoyen\n\n`;
            md += `*Exporté le ${new Date().toLocaleDateString('fr-BE')}*\n\n`;
            md += `---\n\n`;

            // Fields
            md += `## Données du projet\n\n`;
            Object.entries(projectData.fields).forEach(([key, value]) => {
                if (value && value.trim()) {
                    md += `### ${key.replace(/_/g, ' ').toUpperCase()}\n\n${value}\n\n`;
                }
            });

            // Actors
            if (projectData.actors.length) {
                md += `## Cartographie des acteurs\n\n`;
                projectData.actors.forEach(a => {
                    md += `- **${a.name}** (${a.type}) — Pouvoir: ${a.power}/10, Intérêt: ${a.interest}/10\n`;
                });
                md += '\n';
            }

            // Veille
            if (projectData.veille.length) {
                md += `## Veille citoyenne\n\n`;
                projectData.veille.forEach(v => {
                    md += `### ${v.title}\n`;
                    md += `*${new Date(v.date).toLocaleDateString('fr-BE')}* — ${v.category}\n\n`;
                    if (v.content) md += `${v.content}\n\n`;
                    if (v.source) md += `[Source](${v.source})\n\n`;
                });
            }

            return md;
        }

        function generateHTML() {
            return `<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Plaidoyer Citoyen - Export</title>
    <style>
        body { font-family: system-ui, sans-serif; max-width: 800px; margin: 0 auto; padding: 2rem; line-height: 1.6; }
        h1 { color: #1e293b; border-bottom: 3px solid #eab308; padding-bottom: 0.5rem; }
        h2 { color: #475569; margin-top: 2rem; }
        .field { background: #f1f5f9; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; }
        .actor { padding: 0.5rem; background: #fff; border-left: 3px solid #10b981; margin-bottom: 0.5rem; }
    </style>
</head>
<body>
    <h1>Projet de Plaidoyer Citoyen</h1>
    <p>Exporté le ${new Date().toLocaleDateString('fr-BE')}</p>
    ${Object.entries(projectData.fields).filter(([k, v]) => v && v.trim()).map(([k, v]) => `
    <div class="field">
        <h3>${k.replace(/_/g, ' ')}</h3>
        <p>${v}</p>
    </div>
    `).join('')}
    ${projectData.actors.length ? `
    <h2>Acteurs</h2>
    ${projectData.actors.map(a => `<div class="actor"><strong>${a.name}</strong> (${a.type})</div>`).join('')}
    ` : ''}
</body>
</html>`;
        }

        function generateCSV() {
            let csv = 'Type,Clé,Valeur\n';
            Object.entries(projectData.fields).forEach(([k, v]) => {
                if (v && v.trim()) {
                    csv += `Champ,"${k}","${v.replace(/"/g, '""')}"\n`;
                }
            });
            projectData.actors.forEach(a => {
                csv += `Acteur,"${a.name}","Type: ${a.type}, Pouvoir: ${a.power}, Intérêt: ${a.interest}"\n`;
            });
            projectData.veille.forEach(v => {
                csv += `Veille,"${v.title}","${v.content?.replace(/"/g, '""') || ''}"\n`;
            });
            return csv;
        }

        // File handlers
        document.getElementById('drop-zone').addEventListener('click', () => {
            document.getElementById('file-input').click();
        });

        function handleDragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('dragover');
        }

        function handleDragLeave(e) {
            e.currentTarget.classList.remove('dragover');
        }

        function handleFileDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
            const file = e.dataTransfer.files[0];
            if (file) processImportFile(file);
        }

        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (file) processImportFile(file);
        }

        function processImportFile(file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    const ext = file.name.split('.').pop().toLowerCase();
                    let imported;

                    if (ext === 'json') {
                        imported = JSON.parse(e.target.result);
                        projectData = { ...projectData, ...imported };
                    } else {
                        // For other formats, store as raw text in a field
                        projectData.fields.imported_content = e.target.result;
                    }

                    localStorage.setItem('plaidoyer_workstation_v3', JSON.stringify(projectData));
                    closeModal('import-modal');
                    showToast('Import réussi ! Rechargement...', 'success');
                    setTimeout(() => location.reload(), 1000);
                } catch (err) {
                    showToast('Erreur lors de l\'import', 'error');
                    console.error(err);
                }
            };
            reader.readAsText(file);
        }

        // ══════════════════════════════════════════════════════════════
        // UTILITIES
        // ══════════════════════════════════════════════════════════════
        
        function downloadFile(content, filename, type) {
            const blob = new Blob([content], { type });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }

        function showToast(message, type = 'info') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <span>${type === 'success' ? '✅' : type === 'error' ? '❌' : 'ℹ️'}</span>
                <span>${message}</span>
            `;
            container.appendChild(toast);
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(100px)';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function debounce(fn, delay) {
            let timeout;
            return (...args) => {
                clearTimeout(timeout);
                timeout = setTimeout(() => fn(...args), delay);
            };
        }
    </script>
</body>
</html>
