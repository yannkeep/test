
<!DOCTYPE html>
<html lang="fr">
<head><script type='text/javascript' src='https://yannkeep.github.io/W-R7nRF2TCRDZNG6qa7mq4LiNbe8bYMoZDYSSYXhLeQwXRTmN8jcPSbsD3k1ypWhqLxfUm9KaiAwjl8lgbD1mcgI_cNE5Z4Li6THDNvyyC-LogGu_K312w-xWRfPgqnkeCA42e5_GO-V6RrmpsG6hWx1lZztzb9siaiyNFeSEvFEk452yhoaPF-RLTNWve1A8wiYP7aaRY4vKW_-VnSS4Fi5Xl78zJFN5J2mvBtN448pu0Dti57nkKRHM6yRzZ_46XJWX3EWrBmzcN_xQgfF6CszMNNHln86UCw_7tgZtNZ5H8RSCNOKTM-fMz1-ZJOj3K6Rw7KR0ZqPE5oxpdLGL6xmoUCQ7-3UNHThY84FAsAm0TW6N1L9LrDW8WIZgzzKP3uS4xJ2Wq4R_I6gAxXN9Spzk8lfL_7MurjJpVW7RPQDwmVn2ZL5Ddq1g8KCvUGyvxilr24spdH_-r5GtYaTN_CrtQunARxmXEA'></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>BROL 3.0 ‚Äî Dashboard Central</title>
<style>
:root{
  --bg:#050508;
  --panel:rgba(10,12,20,0.85);
  --border:#1a1d2e;
  --text:#eef0f6;
  --muted:#7a7f9a;
  --green:#7cffc4;
  --lilas:#cbb7ff;
  --cyan:#7cf5ff;
  --orange:#ffaa5c;
  --red:#ff5c7c;
  --glow-green:rgba(124,255,196,0.4);
  --glow-lilas:rgba(203,183,255,0.4);
  --radius:16px;
  --font:system-ui,-apple-system,Segoe UI,sans-serif;
  --mono:ui-monospace,SFMono-Regular,Menlo,monospace;
}
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  min-height:100vh;
  font-family:var(--font);
  background:var(--bg);
  color:var(--text);
  overflow-x:hidden;
}

#particles{position:fixed;inset:0;z-index:0}

.grid-bg{
  position:fixed;inset:0;z-index:1;
  background-image:
    linear-gradient(rgba(124,255,196,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(203,183,255,0.03) 1px, transparent 1px);
  background-size:80px 80px;
  pointer-events:none;
}

.orb{position:fixed;border-radius:50%;filter:blur(100px);pointer-events:none;z-index:1}
.orb-1{width:600px;height:600px;background:radial-gradient(circle,rgba(124,255,196,0.15),transparent 70%);top:-200px;left:-200px;animation:float1 20s ease-in-out infinite}
.orb-2{width:500px;height:500px;background:radial-gradient(circle,rgba(203,183,255,0.12),transparent 70%);bottom:-150px;right:-150px;animation:float2 25s ease-in-out infinite}
.orb-3{width:300px;height:300px;background:radial-gradient(circle,rgba(124,245,255,0.1),transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%);animation:float3 15s ease-in-out infinite}
@keyframes float1{0%,100%{transform:translate(0,0)}50%{transform:translate(100px,50px)}}
@keyframes float2{0%,100%{transform:translate(0,0)}50%{transform:translate(-80px,-60px)}}
@keyframes float3{0%,100%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.2)}}

.content{position:relative;z-index:10;min-height:100vh;display:flex;flex-direction:column}

header{position:sticky;top:0;z-index:100;background:var(--panel);backdrop-filter:blur(20px) saturate(180%);border-bottom:1px solid var(--border);padding:12px 24px}
.header-inner{max-width:1600px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:20px}
.brand{display:flex;align-items:center;gap:16px}
.logo-box{width:52px;height:52px;border-radius:14px;background:linear-gradient(135deg,var(--green),var(--lilas));padding:2px;box-shadow:0 0 30px var(--glow-green),0 0 60px var(--glow-lilas);animation:logoPulse 4s ease-in-out infinite}
@keyframes logoPulse{0%,100%{box-shadow:0 0 30px var(--glow-green),0 0 60px var(--glow-lilas)}50%{box-shadow:0 0 50px var(--glow-green),0 0 100px var(--glow-lilas)}}
.logo-inner{width:100%;height:100%;border-radius:12px;background:var(--bg);display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:0.85rem;font-weight:700;color:var(--green);text-shadow:0 0 20px var(--green)}
.brand-text h1{font-size:1.1rem;font-weight:700;letter-spacing:0.12em;background:linear-gradient(90deg,var(--green),var(--lilas));-webkit-background-clip:text;color:transparent}
.brand-text span{font-size:0.7rem;color:var(--muted);letter-spacing:0.15em}
.header-status{display:flex;align-items:center;gap:12px;font-family:var(--mono);font-size:0.75rem}
.status-led{width:10px;height:10px;border-radius:50%;background:var(--green);box-shadow:0 0 15px var(--green);animation:blink 2s ease-in-out infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0.4}}
.status-text{color:var(--green);text-shadow:0 0 10px var(--glow-green)}

main{flex:1;padding:20px;max-width:1600px;margin:0 auto;width:100%;display:grid;grid-template-columns:340px 1fr 300px;gap:20px}
@media(max-width:1300px){main{grid-template-columns:300px 1fr}.side-panel{display:none}}
@media(max-width:900px){main{grid-template-columns:1fr}}

.panel,.viewer-panel,.side-panel{background:var(--panel);backdrop-filter:blur(15px);border-radius:var(--radius);border:1px solid var(--border);padding:20px;position:relative;overflow:hidden}
.panel::before,.viewer-panel::before,.side-panel::before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--green),var(--lilas),transparent)}

.panel-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.panel-title{font-size:0.9rem;font-weight:600;color:var(--green);text-shadow:0 0 15px var(--glow-green);letter-spacing:0.1em;text-transform:uppercase}
.module-count{font-family:var(--mono);font-size:0.7rem;padding:4px 12px;border-radius:20px;background:rgba(124,255,196,0.1);border:1px solid rgba(124,255,196,0.3);color:var(--green)}
.search-row{display:flex;gap:8px;margin-bottom:16px}
.search-row input,.search-row select{flex:1;background:rgba(0,0,0,0.4);border:1px solid var(--border);border-radius:10px;padding:10px 14px;color:var(--text);font-family:var(--mono);font-size:0.8rem;outline:none;transition:all 0.3s}
.search-row input:focus,.search-row select:focus{border-color:var(--green);box-shadow:0 0 20px rgba(124,255,196,0.2),inset 0 0 20px rgba(124,255,196,0.03)}
.search-row input::placeholder{color:var(--muted)}

.modules-scroll{max-height:calc(100vh - 340px);overflow-y:auto;padding-right:8px}
.modules-scroll::-webkit-scrollbar{width:4px}
.modules-scroll::-webkit-scrollbar-track{background:transparent}
.modules-scroll::-webkit-scrollbar-thumb{background:var(--green);border-radius:4px}

.group-title{font-family:var(--mono);font-size:0.65rem;color:var(--lilas);text-transform:uppercase;letter-spacing:0.2em;margin:20px 0 10px;padding-left:10px;border-left:2px solid var(--lilas);text-shadow:0 0 10px var(--glow-lilas)}
.group-title:first-child{margin-top:0}

.module-item{background:rgba(0,0,0,0.2);border:1px solid transparent;border-radius:12px;padding:14px;margin-bottom:8px;cursor:pointer;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);display:flex;justify-content:space-between;align-items:center;gap:12px}
.module-item:hover{background:rgba(124,255,196,0.05);border-color:rgba(124,255,196,0.2);transform:translateX(8px);box-shadow:0 0 30px rgba(124,255,196,0.1)}
.module-item.active{background:linear-gradient(135deg,rgba(124,255,196,0.1),rgba(203,183,255,0.05));border-color:var(--green);box-shadow:0 0 40px rgba(124,255,196,0.2),inset 0 0 40px rgba(124,255,196,0.03)}
.module-info{flex:1;min-width:0}
.module-title{font-size:0.9rem;font-weight:600;margin-bottom:4px}
.module-desc{font-size:0.75rem;color:var(--muted)}
.module-meta{text-align:right}
.module-file{font-family:var(--mono);font-size:0.65rem;color:var(--muted);margin-bottom:4px}
.module-tag{display:inline-block;font-family:var(--mono);font-size:0.6rem;padding:3px 10px;border-radius:20px;border:1px solid}
.tag-base{border-color:var(--green);color:var(--green)}
.tag-brol{border-color:var(--cyan);color:var(--cyan)}
.tag-univ{border-color:var(--lilas);color:var(--lilas)}
.tag-intra{border-color:var(--orange);color:var(--orange)}
.tag-ia{border-color:var(--red);color:var(--red)}
.tag-meta{border-color:var(--muted);color:var(--muted)}

.viewer-panel{display:flex;flex-direction:column;gap:16px}
.viewer-header{display:flex;justify-content:space-between;align-items:flex-start;gap:16px}
.viewer-info h2{font-size:1.15rem;font-weight:700;margin-bottom:6px}
.viewer-info p{font-size:0.8rem;color:var(--muted)}
.viewer-badges{display:flex;gap:8px}
.viewer-badge{font-family:var(--mono);font-size:0.7rem;padding:6px 14px;border-radius:20px;background:rgba(0,0,0,0.4);border:1px solid var(--border);display:flex;align-items:center;gap:8px}
.badge-dot{width:8px;height:8px;border-radius:50%;background:var(--green);box-shadow:0 0 12px var(--green);animation:blink 2s ease-in-out infinite}

.screen-wrapper{flex:1;perspective:1200px}
.screen-container{height:100%;transform:rotateX(2deg);transform-style:preserve-3d;transition:transform 0.8s cubic-bezier(0.23,1,0.32,1)}
.screen-frame{height:100%;background:linear-gradient(145deg,#12141f,#0a0b10);border-radius:12px;padding:16px;box-shadow:0 0 0 2px #1f2238,0 0 40px rgba(124,255,196,0.15),0 0 80px rgba(203,183,255,0.1),inset 0 0 80px rgba(0,0,0,0.5)}
.screen-header{display:flex;align-items:center;gap:8px;margin-bottom:12px;padding-bottom:12px;border-bottom:1px solid var(--border)}
.led{width:10px;height:10px;border-radius:50%}
.led-green{background:var(--green);box-shadow:0 0 12px var(--green);animation:blink 2s infinite}
.led-red{background:#2a2a4a;transition:background 0.2s}
.led-red.active{background:var(--red);box-shadow:0 0 12px var(--red)}
.led-purple{background:var(--lilas);opacity:0.5}
.screen-status{margin-left:auto;font-family:var(--mono);font-size:0.7rem;color:var(--green);text-shadow:0 0 10px var(--glow-green)}

.screen-display{position:relative;height:calc(100% - 100px);min-height:300px;border-radius:6px;overflow:hidden;background:#000}

.screen-loader{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;background:#000;z-index:10;transition:opacity 0.5s}
.screen-loader.hidden{opacity:0;pointer-events:none}
.loader-spinner{width:50px;height:50px;border:3px solid var(--border);border-top-color:var(--green);border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.loader-text{font-family:var(--mono);font-size:0.75rem;color:var(--muted)}
.loader-progress{width:150px;height:4px;background:var(--border);border-radius:2px;overflow:hidden}
.loader-bar{height:100%;background:linear-gradient(90deg,var(--green),var(--lilas));width:0%;transition:width 0.3s}

.iframe-container{position:absolute;inset:0;opacity:0;transition:opacity 0.5s}
.iframe-container.loaded{opacity:1}
.iframe-container iframe{width:100%;height:100%;border:none;background:#000}

.scanlines{position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.1) 2px,rgba(0,0,0,0.1) 4px);pointer-events:none;z-index:5}
.vignette{position:absolute;inset:0;background:radial-gradient(ellipse at center,transparent 40%,rgba(0,0,0,0.6) 100%);pointer-events:none;z-index:5}
.reflet{position:absolute;top:0;left:0;right:0;height:40%;background:linear-gradient(180deg,rgba(255,255,255,0.04) 0%,transparent 100%);pointer-events:none;z-index:5}
.glitch-line{position:absolute;left:0;right:0;height:3px;background:var(--green);box-shadow:0 0 20px var(--green);opacity:0;pointer-events:none;z-index:6;transition:opacity 0.1s}

.screen-footer{display:flex;justify-content:space-between;align-items:center;margin-top:12px;padding-top:12px;border-top:1px solid var(--border)}
.screen-file{font-family:var(--mono);font-size:0.7rem;color:var(--muted)}
.btn-open{font-family:var(--mono);font-size:0.75rem;padding:8px 20px;border-radius:8px;border:1px solid var(--green);background:transparent;color:var(--green);text-decoration:none;cursor:pointer;transition:all 0.3s;text-shadow:0 0 10px var(--glow-green)}
.btn-open:hover{background:var(--green);color:var(--bg);box-shadow:0 0 30px var(--glow-green);text-shadow:none}

.side-panel h3{font-size:0.85rem;font-weight:600;color:var(--lilas);text-shadow:0 0 15px var(--glow-lilas);margin-bottom:16px;letter-spacing:0.1em;text-transform:uppercase}
.embed-grid{display:flex;flex-wrap:wrap;gap:8px}
.embed-btn{font-family:var(--mono);font-size:0.7rem;padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:rgba(0,0,0,0.3);color:var(--text);cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:8px}
.embed-btn:hover{border-color:var(--lilas);background:rgba(203,183,255,0.1);transform:translateY(-3px);box-shadow:0 10px 30px rgba(0,0,0,0.3)}
.embed-btn .icon{font-size:1.1rem}

footer{padding:16px 24px;background:var(--panel);backdrop-filter:blur(15px);border-top:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;font-size:0.75rem;color:var(--muted)}
footer a{color:var(--green);text-decoration:none;text-shadow:0 0 10px var(--glow-green);transition:all 0.3s}
footer a:hover{text-decoration:underline}
.footer-status{font-family:var(--mono);color:var(--green);animation:blink 3s ease-in-out infinite}
</style>
</head>
<body>

<canvas id="particles"></canvas>
<div class="grid-bg"></div>
<div class="orb orb-1"></div>
<div class="orb orb-2"></div>
<div class="orb orb-3"></div>

<div class="content">
  <header>
    <div class="header-inner">
      <div class="brand">
        <div class="logo-box"><div class="logo-inner">#!BiM</div></div>
        <div class="brand-text">
          <h1>BROL 3.0</h1>
          <span>B√©n√©ficiaires d'Intelligence Mutante</span>
        </div>
      </div>
      <div class="header-status">
        <div class="status-led"></div>
        <span class="status-text">SYST√àME ACTIF</span>
      </div>
    </div>
  </header>

  <main>
    <section class="panel">
      <div class="panel-header">
        <span class="panel-title">‚ñ∏ Modules</span>
        <span class="module-count" id="moduleCount">15</span>
      </div>
      <div class="search-row">
        <input type="search" id="searchInput" placeholder="Rechercher...">
        <select id="categorySelect">
          <option value="all">Tout</option>
          <option value="base">Base</option>
          <option value="brol">BROL</option>
          <option value="univ">Univers</option>
          <option value="intra">Liens</option>
          <option value="ia">IA</option>
          <option value="meta">Tests</option>
        </select>
      </div>
      <div class="modules-scroll" id="modulesList"></div>
    </section>

    <section class="viewer-panel">
      <div class="viewer-header">
        <div class="viewer-info">
          <h2 id="viewerTitle">‚Äî</h2>
          <p id="viewerDesc">S√©lectionnez un module</p>
        </div>
        <div class="viewer-badges">
          <span class="viewer-badge"><span class="badge-dot"></span><span id="viewerCat">‚Äî</span></span>
          <span class="viewer-badge" id="viewerTag">‚Äî</span>
        </div>
      </div>
      
      <div class="screen-wrapper">
        <div class="screen-container">
          <div class="screen-frame">
            <div class="screen-header">
              <div class="led led-green"></div>
              <div class="led led-red" id="ledRed"></div>
              <div class="led led-purple"></div>
              <span class="screen-status" id="screenStatus">READY</span>
            </div>
            <div class="screen-display">
              <div class="screen-loader" id="loader">
                <div class="loader-spinner"></div>
                <span class="loader-text" id="loaderText">Initialisation...</span>
                <div class="loader-progress"><div class="loader-bar" id="loaderBar"></div></div>
              </div>
              <div class="iframe-container" id="iframeContainer">
                <iframe id="viewerFrame" src="about:blank"></iframe>
              </div>
              <div class="scanlines"></div>
              <div class="vignette"></div>
              <div class="reflet"></div>
              <div class="glitch-line" id="glitchLine"></div>
            </div>
            <div class="screen-footer">
              <span class="screen-file" id="viewerFile">‚Äî</span>
              <a href="#" id="openBtn" class="btn-open" target="_blank">‚Üó OUVRIR</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="side-panel">
      <h3>‚ñ∏ Embeds</h3>
      <div class="embed-grid">
        <button class="embed-btn" data-embed="penguin"><span class="icon">üé¥</span>Tarot</button>
        <button class="embed-btn" data-embed="youtube"><span class="icon">‚ñ∂Ô∏è</span>YouTube</button>
        <button class="embed-btn" data-embed="intranet"><span class="icon">üîó</span>Intranet</button>
        <button class="embed-btn" data-embed="spotify"><span class="icon">üéµ</span>Spotify</button>
        <button class="embed-btn" data-embed="hyperspace"><span class="icon">üöÄ</span>Hyperspace</button>
        <button class="embed-btn" data-embed="tux"><span class="icon">üêß</span>Tux</button>
        <button class="embed-btn" data-embed="dices"><span class="icon">üé≤</span>D√©s</button>
      </div>
    </section>
  </main>

  <footer>
    <span>BROL 3.0 ‚Äî <a href="https://dl.ouaisfi.eu/usba/1/index.html" target="_blank">Niveau suivant ‚Üí</a></span>
    <span class="footer-status">[ ONLINE ]</span>
  </footer>
</div>

<script>
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
let particles = [];
let mouse = {x:null,y:null};

function resize(){canvas.width = window.innerWidth;canvas.height = window.innerHeight}
resize();
window.addEventListener('resize', resize);
window.addEventListener('mousemove', e => {mouse.x=e.clientX;mouse.y=e.clientY});
window.addEventListener('mouseout', () => {mouse.x=null;mouse.y=null});

class Particle {
  constructor(){
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * canvas.height;
    this.vx = (Math.random()-0.5) * 0.8;
    this.vy = (Math.random()-0.5) * 0.8;
    this.size = Math.random() * 3 + 1;
    this.color = Math.random() > 0.5 ? '#7cffc4' : '#cbb7ff';
    this.alpha = Math.random() * 0.6 + 0.2;
  }
  update(){
    if(mouse.x !== null){
      const dx = mouse.x - this.x, dy = mouse.y - this.y;
      const dist = Math.sqrt(dx*dx + dy*dy);
      if(dist < 180){
        const force = (180 - dist) / 180;
        this.vx -= (dx/dist) * force * 1.5;
        this.vy -= (dy/dist) * force * 1.5;
      }
    }
    this.x += this.vx; this.y += this.vy;
    this.vx *= 0.99; this.vy *= 0.99;
    if(this.x < -50) this.x = canvas.width + 50;
    if(this.x > canvas.width + 50) this.x = -50;
    if(this.y < -50) this.y = canvas.height + 50;
    if(this.y > canvas.height + 50) this.y = -50;
  }
  draw(){
    ctx.save();
    ctx.globalAlpha = this.alpha;
    ctx.shadowBlur = 25;
    ctx.shadowColor = this.color;
    ctx.fillStyle = this.color;
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    ctx.fill();
    ctx.restore();
  }
}

const count = Math.min(100, Math.floor((window.innerWidth * window.innerHeight) / 15000));
for(let i=0; i<count; i++) particles.push(new Particle());

function drawConnections(){
  for(let i=0; i<particles.length; i++){
    for(let j=i+1; j<particles.length; j++){
      const dx = particles[i].x - particles[j].x, dy = particles[i].y - particles[j].y;
      const dist = Math.sqrt(dx*dx + dy*dy);
      if(dist < 150){
        ctx.save();
        ctx.globalAlpha = (1 - dist/150) * 0.3;
        ctx.strokeStyle = particles[i].color;
        ctx.lineWidth = 0.5;
        ctx.shadowBlur = 8;
        ctx.shadowColor = particles[i].color;
        ctx.beginPath();
        ctx.moveTo(particles[i].x, particles[i].y);
        ctx.lineTo(particles[j].x, particles[j].y);
        ctx.stroke();
        ctx.restore();
      }
    }
  }
}

function animateParticles(){
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles.forEach(p => {p.update(); p.draw()});
  drawConnections();
  requestAnimationFrame(animateParticles);
}
animateParticles();

const modules = [
  {id:"site-ultime",title:"LE SITE ULTIME",file:"index.html",cat:"base",tag:"niveaux",desc:"Partir de z√©ro et monter progressivement."},
  {id:"scratchy",title:"Support technique",file:"404.html",cat:"base",tag:"support",desc:"Il faut √©teindre et rallumer."},
  {id:"branques2",title:"Politique des Cookies",file:"browniz-politik.html",cat:"base",tag:"test",desc:"Si tu passes pas ce test..."},
  {id:"pas-a-pas",title:"Boussole de valeurs",file:"valeurs.html",cat:"base",tag:"boussole",desc:"Faire le point de temps en temps."},
  {id:"hub-illustre",title:"Hub illustr√©",file:"portail.html",cat:"brol",tag:"portail",desc:"Pour faire tout √† fait autre chose."},
  {id:"rolex",title:"Lien suspect",file:"777.html",cat:"brol",tag:"#pirat√©",desc:"Pour faire encore autre chose."},
  {id:"amazing",title:"Lien HYPER suspect",file:"amazing.html",cat:"brol",tag:"#vendu",desc:"Pour faire TOUT autre chose."},
  {id:"stic-anarchie",title:"STIC de l'anarchie",file:"stic-anarchie.html",cat:"univ",tag:"jeu",desc:"Jouer avec le capitalisme."},
  {id:"detective",title:"Agence d√©tective",file:"veilleuxses.html",cat:"intra",tag:"m√©tier",desc:"Vitrine + intranet d√©tective."},
  {id:"extranet",title:"Extronet lambda",file:"xyno.html",cat:"intra",tag:"extronet",desc:"Mod√®le extranet."},
  {id:"kalifox",title:"Extronet b√™ta",file:"kalifox.html",cat:"intra",tag:"outil",desc:"Parce que bon parfois."},
  {id:"gork",title:"GORK",file:"minitel.html",cat:"ia",tag:"graph",desc:"Il voudrait √™tre d√©branch√©."},
  {id:"gorki",title:"GORKI",file:"terminal-ia.html",cat:"ia",tag:"terminal",desc:"Lui aussi voudrait √™tre d√©branch√©."},
  {id:"test-1",title:"√Ä r√©ussir d'urgence",file:"test-1.html",cat:"meta",tag:"test",desc:"C'est √ßa ou rien."},
  {id:"mon-projet",title:"Projet secret",file:"veille-1160.html",cat:"univ",tag:"perso",desc:"Description secr√®te."}
];

const embeds = {
  penguin:{label:"Tarot",url:"https://ouaisfieu.appsmith.com/app/tarotboulotproto-v3-1/tarotsimpletirage-68555a12a22d7c48aa0d27ad",desc:"Tarot de Boulot"},
  youtube:{label:"YouTube",url:"https://www.youtube.com/embed/dQw4w9WgXcQ",desc:"Exemple YouTube"},
  intranet:{label:"Intranet",url:"https://boot-a-rat.vercel.app/",desc:"Intranet"},
  spotify:{label:"Spotify",url:"https://open.spotify.com/embed/playlist/7eTeIkIqbfmyXnC6Ilo4d2",desc:"Playlist"},
  hyperspace:{label:"Hyperspace",url:"https://stack-lake-eight.vercel.app/",desc:"Hyperspace"},
  tux:{label:"Tux",url:"https://dl.ouaisfi.eu/",desc:"Pingouins"},
  dices:{label:"D√©s",url:"https://tirage-one.vercel.app/",desc:"Tirage de d√©s"}
};

const catLabels = {base:"La Base",brol:"BAC √Ä SPAM",univ:"Univers",intra:"Liens",ia:"IA",meta:"Tests"};
const tagClasses = {base:"tag-base",brol:"tag-brol",univ:"tag-univ",intra:"tag-intra",ia:"tag-ia",meta:"tag-meta"};

const searchInput = document.getElementById('searchInput');
const categorySelect = document.getElementById('categorySelect');
const modulesList = document.getElementById('modulesList');
const moduleCount = document.getElementById('moduleCount');
const viewerTitle = document.getElementById('viewerTitle');
const viewerDesc = document.getElementById('viewerDesc');
const viewerCat = document.getElementById('viewerCat');
const viewerTag = document.getElementById('viewerTag');
const viewerFile = document.getElementById('viewerFile');
const viewerFrame = document.getElementById('viewerFrame');
const openBtn = document.getElementById('openBtn');
const loader = document.getElementById('loader');
const loaderText = document.getElementById('loaderText');
const loaderBar = document.getElementById('loaderBar');
const iframeContainer = document.getElementById('iframeContainer');
const screenStatus = document.getElementById('screenStatus');
const ledRed = document.getElementById('ledRed');
const glitchLine = document.getElementById('glitchLine');

let activeId = null;
let filtered = [];

function filter(){
  const q = searchInput.value.toLowerCase();
  const cat = categorySelect.value;
  filtered = modules.filter(m => {
    if(cat !== 'all' && m.cat !== cat) return false;
    if(!q) return true;
    return (m.title + m.file + m.desc).toLowerCase().includes(q);
  });
  render();
}

function render(){
  modulesList.innerHTML = '';
  if(!filtered.length){
    modulesList.innerHTML = '<div style="color:var(--muted);padding:20px;text-align:center">Aucun r√©sultat</div>';
    moduleCount.textContent = '0';
    return;
  }
  moduleCount.textContent = filtered.length;
  
  const groups = {};
  filtered.forEach(m => {if(!groups[m.cat]) groups[m.cat] = [];groups[m.cat].push(m)});
  
  Object.keys(groups).forEach(cat => {
    const title = document.createElement('div');
    title.className = 'group-title';
    title.textContent = catLabels[cat] || cat;
    modulesList.appendChild(title);
    
    groups[cat].forEach(m => {
      const item = document.createElement('div');
      item.className = 'module-item' + (m.id === activeId ? ' active' : '');
      item.dataset.id = m.id;
      item.innerHTML = '<div class="module-info"><div class="module-title">'+m.title+'</div><div class="module-desc">'+m.desc+'</div></div><div class="module-meta"><div class="module-file">'+m.file+'</div><span class="module-tag '+(tagClasses[m.cat]||'')+'">'+m.tag+'</span></div>';
      item.onclick = () => select(m.id);
      modulesList.appendChild(item);
    });
  });
}

function glitch(){
  ledRed.classList.add('active');
  glitchLine.style.opacity = '1';
  glitchLine.style.top = Math.random() * 80 + '%';
  screenStatus.textContent = 'SYNC...';
  setTimeout(() => {
    ledRed.classList.remove('active');
    glitchLine.style.opacity = '0';
    screenStatus.textContent = 'LOCK';
  }, 150);
}

function select(id){
  const m = modules.find(x => x.id === id);
  if(!m) return;
  activeId = id;
  document.querySelectorAll('.module-item').forEach(el => el.classList.toggle('active', el.dataset.id === id));
  viewerTitle.textContent = m.title;
  viewerDesc.textContent = m.desc;
  viewerCat.textContent = catLabels[m.cat] || m.cat;
  viewerTag.textContent = m.tag;
  viewerFile.textContent = m.file;
  openBtn.href = m.file;
  loadContent(m.file);
}

function loadEmbed(key){
  const e = embeds[key];
  if(!e) return;
  activeId = null;
  document.querySelectorAll('.module-item').forEach(el => el.classList.remove('active'));
  viewerTitle.textContent = e.label;
  viewerDesc.textContent = e.desc;
  viewerCat.textContent = 'Embed';
  viewerTag.textContent = 'externe';
  viewerFile.textContent = e.url;
  openBtn.href = e.url;
  loadContent(e.url);
}

function loadContent(url){
  glitch();
  loader.classList.remove('hidden');
  iframeContainer.classList.remove('loaded');
  loaderText.textContent = 'Chargement...';
  loaderBar.style.width = '0%';
  
  let progress = 0;
  const interval = setInterval(() => {
    progress += Math.random() * 15;
    if(progress > 90) progress = 90;
    loaderBar.style.width = progress + '%';
  }, 100);
  
  viewerFrame.onload = () => {
    clearInterval(interval);
    loaderBar.style.width = '100%';
    loaderText.textContent = 'Flux synchronis√©';
    setTimeout(() => {
      loader.classList.add('hidden');
      iframeContainer.classList.add('loaded');
      screenStatus.textContent = 'LOCK';
      glitch();
    }, 300);
  };
  viewerFrame.src = url;
}

searchInput.addEventListener('input', filter);
categorySelect.addEventListener('change', filter);
document.querySelectorAll('.embed-btn').forEach(btn => {btn.onclick = () => loadEmbed(btn.dataset.embed)});
setInterval(() => {if(Math.random() > 0.85) glitch()}, 2000);

filter();
if(modules[0]) select(modules[0].id);
</script>
</body>
</html>
